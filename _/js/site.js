!function(){"use strict";function e(e,t,n){const r=document.createElement(e);return t&&r.setAttribute("class",t),void 0!==n&&(Array.isArray(n)||(n=[n]),n.forEach((function(e){e&&r.appendChild(e)}))),r}var t;!function(){var e=/^sect(\d)$/,t=document.querySelector(".nav-container"),n=document.querySelector(".nav-toggle");if(t&&n){n&&n.addEventListener("click",(function(e){if(n.classList.contains("is-active"))return d(e);var r=document.documentElement;r.classList.add("is-clipped--nav"),n.classList.add("is-active"),t.classList.add("is-active"),r.addEventListener("click",d),h(e)}));var r=t.querySelector("[data-panel=menu]");if(!r)return;var o=t.querySelector(".nav"),i=r.querySelector(".is-current-page"),a=i;i?(l(i),f(r,i.querySelector(".nav-link"))):r.scrollTop=0,p(r,".nav-item-toggle:not(a)").forEach((function(e){var t=e.parentElement;e.addEventListener("click",u.bind(t)),e.addEventListener("click",h);var n=function(e,t){var n=e.nextElementSibling;if(!n)return;return t?n[n.matches?"matches":"msMatchesSelector"](t)&&n:n}(e,".nav-text");n&&(n.style.cursor="pointer",n.addEventListener("click",u.bind(t)))})),o.querySelector(".context")&&o.querySelector(".context").addEventListener("click",(function(){var e=o.querySelector(".is-active[data-panel]"),t="menu"===e.dataset.panel?"explore":"menu";e.classList.toggle("is-active"),o.querySelector("[data-panel="+t+"]").classList.toggle("is-active")})),r.addEventListener("mousedown",(function(e){e.detail>1&&e.preventDefault()})),r&&r.querySelector('.nav-link[href^="#"]')&&(window.location.hash&&c(),window.addEventListener("hashchange",c))}var s=document.querySelector("body:not(.cheat-sheet) .version-selector");function c(){var t,n,o=window.location.hash;if(o&&(o.indexOf("%")&&(o=decodeURIComponent(o)),!(t=r.querySelector('.nav-link[href="'+o+'"]')))){var s=document.getElementById(o.slice(1));if(s)for(var c=s,u=document.querySelector("article.doc");(c=c.parentNode)&&c!==u;){var d=c.id;if(!d&&(d=c.className&&c.className.match(e))&&(d=(c.firstElementChild||{}).id),d&&(t=r.querySelector('.nav-link[href="#'+d+'"]')))break}}if(t)n=t.parentNode;else{if(!a)return;t=(n=a).querySelector(".nav-link")}n!==i&&(p(r,".nav-item.is-active").forEach((function(e){e.classList.remove("is-active","is-current-path","is-current-page")})),n.classList.add("is-current-page"),i=n,l(n),f(r,t))}function l(e){for(var t,n=e.parentNode;!(t=n.classList).contains("nav-menu");)"LI"===n.tagName&&t.contains("nav-item")&&t.add("is-active","is-current-path"),n=n.parentNode;e.classList.add("is-active")}function u(){this.classList.toggle("is-active"),this.getBoundingClientRect().bottom>document.querySelector("footer").getBoundingClientRect().top&&this.scrollIntoView({behavior:"smooth",block:"nearest"})}function d(e){var r=document.documentElement;r.classList.remove("is-clipped--nav"),n.classList.remove("is-active"),t.classList.remove("is-active"),r.removeEventListener("click",d),h(e)}function h(e){e.stopPropagation()}function f(e,t){var n=e.getBoundingClientRect(),r=n.height,i=window.getComputedStyle(o);"sticky"===i.position&&(r-=n.top-parseFloat(i.top)),e.scrollTop=Math.max(0,.5*(t.getBoundingClientRect().height-r)+t.offsetTop)}function p(e,t){return[].slice.call(e.querySelectorAll(t))}s&&s.addEventListener("change",(function(e){const t=e.target,n=t.dataset.current,r=t.selectedOptions[0].dataset.version,o=t.value;window.ga&&window.ga("send","event","version-select","From: "+n+";To:"+r+";"),document.location.assign(o)})),window.addEventListener("resize",(function(){var e=document.querySelector("html");window.innerWidth>=1024&&e.classList.contains("is-clipped--nav")&&e.classList.remove("is-clipped--nav")}))}(),function(){var e=document.querySelector("aside.toc.sidebar");if(e){if(document.querySelector("body.-toc"))return e.parentNode.removeChild(e);var t=parseInt(e.dataset.levels||2);if(t<0)return e.parentNode.removeChild(e);for(var n=document.querySelector("article.doc"),r=document.querySelector(".nav-container .selectors"),o=r?r.getBoundingClientRect().height:0,i=[],a=0;a<=t;a++)i.push(a?".sect"+a+":not(.discrete)>h"+(a+1)+"[id]":"h1[id].sect0");var s=function(e,t){return[].slice.call((t||document).querySelectorAll(e))}(i.join(","),n),c=e.querySelector(".toc-menu-placeholder");c||((c=document.createElement("div")).className="toc-menu-placeholder");var l,u=document.querySelector(".toc-ad");if(!s.length)return u?c.parentNode.removeChild(c):e.parentNode.removeChild(e);var d={},h=s.reduce((function(e,t){var n=document.createElement("a"),r=t.cloneNode(!0);r.querySelectorAll("div, a.anchor").forEach((function(e){e.remove()})),r.querySelector("a")?n.textContent=r.textContent:n.innerHTML=r.innerHTML,d[n.href="#"+t.id]=n;var o=document.createElement("li");return o.dataset.level=parseInt(t.nodeName.slice(1))-1,o.appendChild(n),e.appendChild(o),e}),document.createElement("ul"));document.querySelector("body.has-banner")&&(document.querySelector(".toc-menu").style.top="calc(var(--toc-top) + var(--banner-height))");var f=document.createElement("h2");f.textContent=e.dataset.title||"Contents",c.appendChild(f),c.appendChild(h);var p=!document.getElementById("toc")&&n.querySelector("h1.page ~ :not(.is-before-toc)");if(p){var m=document.createElement("aside");m.className="toc embedded",m.appendChild(c.cloneNode(!0)),p.parentNode.insertBefore(m,p)}window.addEventListener("load",(function(){y(),window.addEventListener("scroll",y)}))}function y(){var e,t=window.pageYOffset,i=1.15*v(document.documentElement,"fontSize"),a=r?n.offsetTop+1.15*o:n.offsetTop;if(t&&window.innerHeight+t+2>=document.documentElement.scrollHeight){l=Array.isArray(l)?l:Array(l||0);var c=[],u=s.length-1;return s.forEach((function(e,t){var n="#"+e.id;t===u||e.getBoundingClientRect().top+v(e,"paddingTop")>a?(c.push(n),l.indexOf(n)<0&&d[n].classList.add("is-active")):~l.indexOf(n)&&d[l.shift()].classList.remove("is-active")})),h.scrollTop=h.scrollHeight-h.offsetHeight,void(l=c.length>1?c:c[0])}if(Array.isArray(l)&&(l.forEach((function(e){d[e].classList.remove("is-active")})),l=void 0),s.some((function(t){if(t.getBoundingClientRect().top+v(t,"paddingTop")-i>a)return!0;e="#"+t.id})),e){if(e===l)return;l&&d[l].classList.remove("is-active");var f=d[e];f.classList.add("is-active"),h.scrollHeight>h.offsetHeight&&!document.querySelector("body.cheat-sheet")&&(h.scrollTop=Math.max(0,f.offsetTop+f.offsetHeight-h.offsetHeight)),l=e}else l&&(d[l].classList.remove("is-active"),l=void 0)}function v(e,t){return parseFloat(window.getComputedStyle(e)[t])}}(),function(){var e=document.querySelector("body"),t=document.querySelector("div.glossary");if(t){var n,r=function(e,t,n){var r=document.createElement(e);return r.setAttribute("class",t),Array.isArray(n)&&n.forEach((function(e){r.appendChild(e)})),r},o=function(t,n){if(a||(a=r("div","tooltip tooltip--bottom"),e.appendChild(a)),a.innerHTML=null,t&&(t=r("div","tooltip-header",[document.createTextNode(t)]),a.appendChild(t)),n){var o=r("div","tooltip-body");o.innerHTML=n,a.appendChild(o),a.style.display="block"}return a},i=function(){return n&&clearTimeout(n),n=setTimeout((function(){a.innerHTML=null,a.style.display="none"}),200),!1},a=o();a.addEventListener("mouseover",(function(){clearTimeout(n)})),a.addEventListener("mouseout",i),Array.from(t.querySelectorAll("a[id]")).forEach((function(e){var t=document.querySelectorAll('a[href="#'+e.getAttribute("id")+'"]'),r=e.parentElement,s=r.innerText,c=r.nextElementSibling.innerHTML;Array.from(t).forEach((function(e){e.classList.add("glossary-term"),e.addEventListener("mouseover",(function(e){e.stopPropagation(),clearTimeout(n),a=o(s,c);var t=e.target.getBoundingClientRect(),r=t.y+window.scrollY,i=t.x,l=t.width,u=a.clientWidth,d=a.clientHeight;a.style.top=r-d-10+"px",a.style.left=i+l/2-u/2+"px";t.y-d-10<0?(a.style.top=r+t.height+10+"px",a.classList.add("tooltip--top"),a.classList.remove("tooltip--bottom")):(a.classList.remove("tooltip--top"),a.classList.add("tooltip--bottom"))})),e.addEventListener("mouseout",i),e.removeAttribute("href")}))}))}}(),function(){var e=document.querySelector(".page-versions .version-menu-toggle");if(e){var t=document.querySelector(".page-versions");e.addEventListener("click",(function(e){t.classList.toggle("is-active"),e.stopPropagation()})),document.documentElement.addEventListener("click",(function(){t.classList.remove("is-active")}))}}(),document.addEventListener("DOMContentLoaded",(function(){var e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);0!==e.length&&e.forEach((function(e){e.addEventListener("click",(function(t){t.stopPropagation(),e.classList.toggle("is-active"),document.getElementById(e.dataset.target).classList.toggle("is-active"),document.documentElement.classList.toggle("is-clipped--navbar")}))}))})),t=/\\\s*$/,window.neo4jDocs={copyableCommand:function(e){var n=e;if(e.startsWith("$ ")){for(var r=n.split("\n"),o="",i=[],a=!1,s=0;s<r.length;s++){var c=r[s];(a||c.startsWith("$ "))&&(a?o+="\n"+c:c.startsWith("$ ")&&(o=c.substr(2,c.length)),(a=c.match(t))||i.push(o))}n=i.join("; ")}return n}};var n,r,o=function(e){return e.replace(/[ \t]+\n/g,"\n").trimEnd()};function i(e,t){var n=document.createElement("div");n.innerHTML=e,Array.from(n.querySelectorAll("i.conum, b")).map((function(e){n.removeChild(e)}));var r=document.createElement("textarea"),o=n.innerHTML;return"bash"!==t&&"sh"!==t&&"shell"!==t&&"console"!==t||(o=window.neo4jDocs.copyableCommand(o)),r.innerHTML=o,r.value}function a(e){return Array.isArray(e)?e.map((function(e){return a(e)})):window.neo4j&&"function"==typeof window.neo4j.isInt&&window.neo4j.isInt(e)?e.toNumber():"object"==typeof e&&null!==e?Object.fromEntries(Object.keys(e).map((function(t){return[t,a(e[t])]}))):e}function s(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelectorAll("body"),n=["gram"],r=function(e,t){var n=document.createElement("textarea");n.value=function(e,t){var n=e;return"bash"!==t&&"sh"!==t&&"shell"!==t&&"console"!==t||(n=window.neo4jDocs.copyableCommand(n)),o(n)}(e,t),n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),window.mixpanel&&window.mixpanel.track("DOCS_CODE_COPY",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,language:t,code:n.value})};document.querySelectorAll("pre code").forEach((e=>{e.addEventListener("copy",(e=>{const t=document.getSelection();e.clipboardData.setData("text/plain",o(t.toString())),e.preventDefault()}))}));document.querySelectorAll(".highlight").forEach((function(t){var o=t.querySelector("code"),i=o.innerText,a=t.parentNode,s=a.parentNode,c=!s.classList.contains("nocopy"),l=o.hasAttribute("class")&&o.getAttribute("class").match(/language-([a-z0-9-])+/i)[0].replace("language-","");if(!(l&&n.indexOf(l.toLowerCase())>-1)){var u=[],d=a.parentNode.querySelector(".title");if(s.classList.add("has-header"),d&&!s.classList.contains("noheader")){s.classList.add("has-title");var h=document.createElement("div");h.className="code-title",h.innerHTML=d.innerHTML,d.style.display="none",u.push(h)}var f=e("div","code-inset");if(c){var p=e("span","btn btn-copy fa fa-copy"),m=e("span","btn",[document.createTextNode("Copied!")]),y=e("div","copy-success hidden",m);p.addEventListener("click",(function(e){e.preventDefault(),r(i,l);var t=e.target,n=t.innerHTML;y.classList.remove("hidden"),y.closest(".content").querySelector("code").classList.add("copied"),setTimeout((function(){t.innerHTML=n,t.style.width="",y.classList.add("hidden"),y.closest(".content").querySelector("code").classList.remove("copied")}),1e3)})),f.appendChild(p),f.appendChild(y)}"none"!==l&&l&&(f.dataset.lang=function(e){var t,n;switch(e){case"csharp":case"dotnet":t="C#";break;case"javascript":t="JavaScript";break;default:t=(n=e).charAt(0).toUpperCase()+n.slice(1)}return t}(l)),u.push(f);var v=e("div","code-header",u);a.insertBefore(v,t)}}));var i=document.getElementsByClassName("highlight");if(i[0]){var a=parseFloat(window.getComputedStyle(i[0],null).getPropertyValue("line-height")),s=15*a,c="linear-gradient(to bottom, black 0px, transparent "+(s+100)+"px)",l=function(e){e.preventDefault();var t=e.target.closest("pre"),n=t.querySelector("code"),r=t.querySelector("div.show-more");t.style.maxHeight="",t.style.overflow="",t.style.cursor="",n.style.webkitMaskImage="",n.style.maskImage="",t.removeChild(r)};document.querySelectorAll(".highlight").forEach((function(n){var r=n.parentNode.parentNode,o=n.querySelector("code");if(!r.classList.contains("nocollapse")&&!t[0].classList.contains("code-nocollapse")&&n.offsetHeight>20*a){n.style.maxHeight=s+"px",n.style.overflow="hidden",n.style.cursor="grab",o.style.webkitMaskImage=c,o.style.maskImage=c;var i=e("div","show-more");n.addEventListener("click",l);var u=e("a"),d=function(e){var t=parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-top")),n=parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-bottom")),r=e.clientHeight-t-n,o=Math.ceil(r/a);return{lines:o,hiddenLines:Math.ceil(o-15)}}(o);u.innerHTML="View all ("+d.hiddenLines+" more lines)",n.appendChild(i),i.appendChild(u)}}));var u="tabbed-target--active",d="tabbed-tab--active",h=function(e){var t=e.target,n=t.innerHTML,r=0,o=document.querySelector(".toolbar");o.offsetHeight&&(r=o.offsetHeight);var i=document.querySelector(".navbar").offsetHeight+r+20,a=window.scrollY+i,s=t.getBoundingClientRect().top+window.scrollY;document.querySelectorAll('.tabbed-target[data-title="'+n+'"]').forEach((function(e){e.parentElement.querySelectorAll("."+u).forEach((function(e){e.classList.remove(u)})),e.classList.add(u),e.parentElement.parentElement.querySelectorAll("."+d).forEach((function(e){e.classList.remove(d)})),e.parentElement.parentElement.querySelectorAll('.tabbed-tab[data-title="'+n+'"]').forEach((function(e){e.classList.add(d)}))}));var c=s-(t.getBoundingClientRect().top+window.scrollY);window.scrollTo({top:a-c-i,behavior:"instant"})};Array.from(document.querySelectorAll(".tabs")).forEach((function(t){for(var n=t,r=t.parentElement,o=[t];t;){var i=t.nextElementSibling;i&&!i.classList.contains("sect2")&&i.querySelector("code")?(o.push(i),t=i):t=!1}if(!(o.length<=1)){var a=e("div","tabbed-container",[]),s=e("div","tabbed",[a]);r.insertBefore(s,n);var c=o.map((function(t){var n,r=t.querySelector(".title"),o=t.querySelector(".code-language");r?n=r.innerHTML:o&&(n=o.innerHTML);var i=e("li","tabbed-tab",[document.createTextNode(n)]);return t.dataset.title=n,i.dataset.title=n,i.addEventListener("click",h),i}));c[0].classList.add("tabbed-tab--active"),s.insertBefore(e("ul","tabbed-tabs",c),a),o.forEach((function(e){r.removeChild(e),a.appendChild(e),e.classList.add("tabbed-target")})),o[0].classList.add("tabbed-target--active")}}))}})),1===(n=s).length&&(r=n,n=function(e,t){return s(r(e),t)});var c={value:function(){}};function l(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new u(r)}function u(e){this._=e}function d(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function h(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function f(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=c,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}u.prototype=l.prototype={constructor:u,on:function(e,t){var n,r=this._,o=d(e+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=f(r[n],e.name,t);else if(null==t)for(n in r)r[n]=f(r[n],e.name,null);return this}for(;++i<a;)if((n=(e=o[i]).type)&&(n=h(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new u(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var p="http://www.w3.org/1999/xhtml",m={svg:"http://www.w3.org/2000/svg",xhtml:p,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function y(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),m.hasOwnProperty(t)?{space:m[t],local:e}:e}function v(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===p&&t.documentElement.namespaceURI===p?t.createElement(e):t.createElementNS(n,e)}}function g(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function w(e){var t=y(e);return(t.local?g:v)(t)}function b(){}function _(e){return null==e?b:function(){return this.querySelector(e)}}function x(){return[]}function E(e){return null==e?x:function(){return this.querySelectorAll(e)}}function S(e){return function(){return this.matches(e)}}function L(e){return new Array(e.length)}function k(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}k.prototype={constructor:k,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function C(e,t,n,r,o,i){for(var a,s=0,c=t.length,l=i.length;s<l;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new k(e,i[s]);for(;s<c;++s)(a=t[s])&&(o[s]=a)}function A(e,t,n,r,o,i,a){var s,c,l,u={},d=t.length,h=i.length,f=new Array(d);for(s=0;s<d;++s)(c=t[s])&&(f[s]=l="$"+a.call(c,c.__data__,s,t),l in u?o[s]=c:u[l]=c);for(s=0;s<h;++s)(c=u[l="$"+a.call(e,i[s],s,i)])?(r[s]=c,c.__data__=i[s],u[l]=null):n[s]=new k(e,i[s]);for(s=0;s<d;++s)(c=t[s])&&u[f[s]]===c&&(o[s]=c)}function T(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function q(e){return function(){this.removeAttribute(e)}}function N(e){return function(){this.removeAttributeNS(e.space,e.local)}}function M(e,t){return function(){this.setAttribute(e,t)}}function D(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function O(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function I(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function j(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function z(e){return function(){this.style.removeProperty(e)}}function H(e,t,n){return function(){this.style.setProperty(e,t,n)}}function R(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function B(e,t){return e.style.getPropertyValue(t)||j(e).getComputedStyle(e,null).getPropertyValue(t)}function P(e){return function(){delete this[e]}}function F(e,t){return function(){this[e]=t}}function U(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function $(e){return e.trim().split(/^|\s+/)}function Y(e){return e.classList||new V(e)}function V(e){this._node=e,this._names=$(e.getAttribute("class")||"")}function G(e,t){for(var n=Y(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function X(e,t){for(var n=Y(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function W(e){return function(){G(this,e)}}function J(e){return function(){X(this,e)}}function Q(e,t){return function(){(t.apply(this,arguments)?G:X)(this,e)}}function K(){this.textContent=""}function Z(e){return function(){this.textContent=e}}function ee(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function te(){this.innerHTML=""}function ne(e){return function(){this.innerHTML=e}}function re(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function oe(){this.nextSibling&&this.parentNode.appendChild(this)}function ie(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ae(){return null}function se(){var e=this.parentNode;e&&e.removeChild(this)}function ce(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function le(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}V.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ue={},de=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ue={mouseenter:"mouseover",mouseleave:"mouseout"}));function he(e,t,n){return e=fe(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function fe(e,t,n){return function(r){var o=de;de=r;try{e.call(this,this.__data__,t,n)}finally{de=o}}}function pe(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function me(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?t.length=o:delete this.__on}}}function ye(e,t,n){var r=ue.hasOwnProperty(e.type)?he:fe;return function(o,i,a){var s,c=this.__on,l=r(t,i,a);if(c)for(var u=0,d=c.length;u<d;++u)if((s=c[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=t);this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,capture:n},c?c.push(s):this.__on=[s]}}function ve(e,t,n,r){var o=de;e.sourceEvent=de,de=e;try{return t.apply(n,r)}finally{de=o}}function ge(e,t,n){var r=j(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function we(e,t){return function(){return ge(this,e,t)}}function be(e,t){return function(){return ge(this,e,t.apply(this,arguments))}}var _e=[null];function xe(e,t){this._groups=e,this._parents=t}function Ee(){return new xe([[document.documentElement]],_e)}function Se(e){return"string"==typeof e?new xe([[document.querySelector(e)]],[document.documentElement]):new xe([[e]],_e)}function Le(){for(var e,t=de;e=t.sourceEvent;)t=e;return t}function ke(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function Ce(e){var t=Le();return t.changedTouches&&(t=t.changedTouches[0]),ke(e,t)}function Ae(e,t,n){arguments.length<3&&(n=t,t=Le().changedTouches);for(var r,o=0,i=t?t.length:0;o<i;++o)if((r=t[o]).identifier===n)return ke(e,r);return null}function Te(){de.stopImmediatePropagation()}function qe(){de.preventDefault(),de.stopImmediatePropagation()}function Ne(e){var t=e.document.documentElement,n=Se(e).on("dragstart.drag",qe,!0);"onselectstart"in t?n.on("selectstart.drag",qe,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Me(e,t){var n=e.document.documentElement,r=Se(e).on("dragstart.drag",null);t&&(r.on("click.drag",qe,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function De(e){return function(){return e}}function Oe(e,t,n,r,o,i,a,s,c,l){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=o,this.x=i,this.y=a,this.dx=s,this.dy=c,this._=l}function Ie(){return!de.ctrlKey&&!de.button}function je(){return this.parentNode}function ze(e){return null==e?{x:de.x,y:de.y}:e}function He(){return navigator.maxTouchPoints||"ontouchstart"in this}function Re(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Be(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pe(){}xe.prototype=Ee.prototype={constructor:xe,select:function(e){"function"!=typeof e&&(e=_(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],c=s.length,l=r[o]=new Array(c),u=0;u<c;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),l[u]=a);return new xe(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=E(e));for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),o.push(a));return new xe(r,o)},filter:function(e){"function"!=typeof e&&(e=S(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,c=r[o]=[],l=0;l<s;++l)(i=a[l])&&e.call(i,i.__data__,l,a)&&c.push(i);return new xe(r,this._parents)},data:function(e,t){if(!e)return f=new Array(this.size()),l=-1,this.each((function(e){f[++l]=e})),f;var n=t?A:C,r=this._parents,o=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var i=o.length,a=new Array(i),s=new Array(i),c=new Array(i),l=0;l<i;++l){var u=r[l],d=o[l],h=d.length,f=e.call(u,u&&u.__data__,l,r),p=f.length,m=s[l]=new Array(p),y=a[l]=new Array(p);n(u,d,m,y,c[l]=new Array(h),f,t);for(var v,g,w=0,b=0;w<p;++w)if(v=m[w]){for(w>=b&&(b=w+1);!(g=y[b])&&++b<p;);v._next=g||null}}return(a=new xe(a,r))._enter=s,a._exit=c,a},enter:function(){return new xe(this._enter||this._groups.map(L),this._parents)},exit:function(){return new xe(this._exit||this._groups.map(L),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var c,l=t[s],u=n[s],d=l.length,h=a[s]=new Array(d),f=0;f<d;++f)(c=l[f]||u[f])&&(h[f]=c);for(;s<r;++s)a[s]=t[s];return new xe(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=T);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],c=s.length,l=o[i]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(t)}return new xe(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=y(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?N:q:"function"==typeof t?n.local?I:O:n.local?D:M)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?z:"function"==typeof t?R:H)(e,t,null==n?"":n)):B(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?P:"function"==typeof t?U:F)(e,t)):this.node()[e]},classed:function(e,t){var n=$(e+"");if(arguments.length<2){for(var r=Y(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?Q:t?W:J)(n,t))},text:function(e){return arguments.length?this.each(null==e?K:("function"==typeof e?ee:Z)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?te:("function"==typeof e?re:ne)(e)):this.node().innerHTML},raise:function(){return this.each(oe)},lower:function(){return this.each(ie)},append:function(e){var t="function"==typeof e?e:w(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:w(e),r=null==t?ae:"function"==typeof t?t:_(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(se)},clone:function(e){return this.select(e?le:ce)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=pe(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?ye:me,null==n&&(n=!1),r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?be:we)(e,t))}},Oe.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Fe=.7,Ue=1/Fe,$e="\\s*([+-]?\\d+)\\s*",Ye="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ve="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ge=/^#([0-9a-f]{3,8})$/,Xe=new RegExp("^rgb\\("+[$e,$e,$e]+"\\)$"),We=new RegExp("^rgb\\("+[Ve,Ve,Ve]+"\\)$"),Je=new RegExp("^rgba\\("+[$e,$e,$e,Ye]+"\\)$"),Qe=new RegExp("^rgba\\("+[Ve,Ve,Ve,Ye]+"\\)$"),Ke=new RegExp("^hsl\\("+[Ye,Ve,Ve]+"\\)$"),Ze=new RegExp("^hsla\\("+[Ye,Ve,Ve,Ye]+"\\)$"),et={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function tt(){return this.rgb().formatHex()}function nt(){return this.rgb().formatRgb()}function rt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ge.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ot(t):3===n?new ct(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?it(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?it(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Xe.exec(e))?new ct(t[1],t[2],t[3],1):(t=We.exec(e))?new ct(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Je.exec(e))?it(t[1],t[2],t[3],t[4]):(t=Qe.exec(e))?it(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ke.exec(e))?ht(t[1],t[2]/100,t[3]/100,1):(t=Ze.exec(e))?ht(t[1],t[2]/100,t[3]/100,t[4]):et.hasOwnProperty(e)?ot(et[e]):"transparent"===e?new ct(NaN,NaN,NaN,0):null}function ot(e){return new ct(e>>16&255,e>>8&255,255&e,1)}function it(e,t,n,r){return r<=0&&(e=t=n=NaN),new ct(e,t,n,r)}function at(e){return e instanceof Pe||(e=rt(e)),e?new ct((e=e.rgb()).r,e.g,e.b,e.opacity):new ct}function st(e,t,n,r){return 1===arguments.length?at(e):new ct(e,t,n,null==r?1:r)}function ct(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function lt(){return"#"+dt(this.r)+dt(this.g)+dt(this.b)}function ut(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function dt(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function ht(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pt(e,t,n,r)}function ft(e){if(e instanceof pt)return new pt(e.h,e.s,e.l,e.opacity);if(e instanceof Pe||(e=rt(e)),!e)return new pt;if(e instanceof pt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,c=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=c<.5?i+o:2-i-o,a*=60):s=c>0&&c<1?0:a,new pt(a,s,c,e.opacity)}function pt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function mt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function yt(e){return function(){return e}}function vt(e){return 1==(e=+e)?gt:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):yt(isNaN(t)?n:t)}}function gt(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):yt(isNaN(e)?t:e)}Re(Pe,rt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:tt,formatHex:tt,formatHsl:function(){return ft(this).formatHsl()},formatRgb:nt,toString:nt}),Re(ct,st,Be(Pe,{brighter:function(e){return e=null==e?Ue:Math.pow(Ue,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Fe:Math.pow(Fe,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lt,formatHex:lt,formatRgb:ut,toString:ut})),Re(pt,(function(e,t,n,r){return 1===arguments.length?ft(e):new pt(e,t,n,null==r?1:r)}),Be(Pe,{brighter:function(e){return e=null==e?Ue:Math.pow(Ue,e),new pt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Fe:Math.pow(Fe,e),new pt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new ct(mt(e>=240?e-240:e+120,o,r),mt(e,o,r),mt(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var wt=function e(t){var n=vt(t);function r(e,t){var r=n((e=st(e)).r,(t=st(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=gt(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function bt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var _t=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xt=new RegExp(_t.source,"g");function Et(e,t){var n,r,o,i=_t.lastIndex=xt.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=_t.exec(e))&&(r=xt.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:bt(n,r)})),i=xt.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})}var St,Lt,kt,Ct,At=180/Math.PI,Tt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qt(e,t,n,r,o,i){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*At,skewX:Math.atan(c)*At,scaleX:a,scaleY:s}}function Nt(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],c=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var c=a.push("translate(",null,t,null,n);s.push({i:c-4,x:bt(e,o)},{i:c-2,x:bt(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,c),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:bt(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,c),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:bt(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,c),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:bt(e,n)},{i:s-2,x:bt(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,c),i=a=null,function(e){for(var t,n=-1,r=c.length;++n<r;)s[(t=c[n]).i]=t.x(e);return s.join("")}}}var Mt=Nt((function(e){return"none"===e?Tt:(St||(St=document.createElement("DIV"),Lt=document.documentElement,kt=document.defaultView),St.style.transform=e,e=kt.getComputedStyle(Lt.appendChild(St),null).getPropertyValue("transform"),Lt.removeChild(St),qt(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),Dt=Nt((function(e){return null==e?Tt:(Ct||(Ct=document.createElementNS("http://www.w3.org/2000/svg","g")),Ct.setAttribute("transform",e),(e=Ct.transform.baseVal.consolidate())?qt((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Tt)}),", ",")",")"),Ot=Math.SQRT2;function It(e){return((e=Math.exp(e))+1/e)/2}function jt(e,t){var n,r,o=e[0],i=e[1],a=e[2],s=t[0],c=t[1],l=t[2],u=s-o,d=c-i,h=u*u+d*d;if(h<1e-12)r=Math.log(l/a)/Ot,n=function(e){return[o+e*u,i+e*d,a*Math.exp(Ot*e*r)]};else{var f=Math.sqrt(h),p=(l*l-a*a+4*h)/(2*a*2*f),m=(l*l-a*a-4*h)/(2*l*2*f),y=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-y)/Ot,n=function(e){var t=e*r,n=It(y),s=a/(2*f)*(n*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(Ot*t+y)-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[o+s*u,i+s*d,a*n/It(Ot*t+y)]}}return n.duration=1e3*r,n}var zt,Ht,Rt=0,Bt=0,Pt=0,Ft=0,Ut=0,$t=0,Yt="object"==typeof performance&&performance.now?performance:Date,Vt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Gt(){return Ut||(Vt(Xt),Ut=Yt.now()+$t)}function Xt(){Ut=0}function Wt(){this._call=this._time=this._next=null}function Jt(e,t,n){var r=new Wt;return r.restart(e,t,n),r}function Qt(){Ut=(Ft=Yt.now())+$t,Rt=Bt=0;try{!function(){Gt(),++Rt;for(var e,t=zt;t;)(e=Ut-t._time)>=0&&t._call.call(null,e),t=t._next;--Rt}()}finally{Rt=0,function(){var e,t,n=zt,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:zt=t);Ht=e,Zt(r)}(),Ut=0}}function Kt(){var e=Yt.now(),t=e-Ft;t>1e3&&($t-=t,Ft=e)}function Zt(e){Rt||(Bt&&(Bt=clearTimeout(Bt)),e-Ut>24?(e<1/0&&(Bt=setTimeout(Qt,e-Yt.now()-$t)),Pt&&(Pt=clearInterval(Pt))):(Pt||(Ft=Yt.now(),Pt=setInterval(Kt,1e3)),Rt=1,Vt(Qt)))}function en(e,t,n){var r=new Wt;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}Wt.prototype=Jt.prototype={constructor:Wt,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Gt():+n)+(null==t?0:+t),this._next||Ht===this||(Ht?Ht._next=this:zt=this,Ht=this),this._call=e,this._time=n,Zt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zt())}};var tn=l("start","end","cancel","interrupt"),nn=[];function rn(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(i){var l,u,d,h;if(1!==n.state)return c();for(l in o)if((h=o[l]).name===n.name){if(3===h.state)return en(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete o[l]):+l<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete o[l])}if(en((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),l=0,u=-1;l<d;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function s(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(c),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=Jt(i,0,n.time)}(e,n,{name:t,index:r,group:o,on:tn,tween:nn,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function on(e,t){var n=sn(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function an(e,t){var n=sn(e,t);if(n.state>3)throw new Error("too late; already running");return n}function sn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function cn(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}function ln(e,t){var n,r;return function(){var o=an(this,e),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function un(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=an(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===t){o[c]=s;break}c===l&&o.push(s)}i.tween=o}}function dn(e,t,n){var r=e._id;return e.each((function(){var e=an(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return sn(e,r).value[t]}}function hn(e,t){var n;return("number"==typeof t?bt:t instanceof rt?wt:(n=rt(t))?(t=n,wt):Et)(e,t)}function fn(e){return function(){this.removeAttribute(e)}}function pn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mn(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function yn(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function vn(e,t,n){var r,o,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(e))===(s=c+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,c));this.removeAttribute(e)}}function gn(e,t,n){var r,o,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(e.space,e.local))===(s=c+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,c));this.removeAttributeNS(e.space,e.local)}}function wn(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function bn(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function _n(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&bn(e,o)),n}return o._value=t,o}function xn(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&wn(e,o)),n}return o._value=t,o}function En(e,t){return function(){on(this,e).delay=+t.apply(this,arguments)}}function Sn(e,t){return t=+t,function(){on(this,e).delay=t}}function Ln(e,t){return function(){an(this,e).duration=+t.apply(this,arguments)}}function kn(e,t){return t=+t,function(){an(this,e).duration=t}}function Cn(e,t){if("function"!=typeof t)throw new Error;return function(){an(this,e).ease=t}}function An(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?on:an;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}var Tn=Ee.prototype.constructor;function qn(e){return function(){this.style.removeProperty(e)}}function Nn(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Mn(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&Nn(e,i,n)),r}return i._value=t,i}function Dn(e){return function(t){this.textContent=e.call(this,t)}}function On(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Dn(r)),t}return r._value=e,r}var In=0;function jn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function zn(){return++In}var Hn=Ee.prototype;jn.prototype={constructor:jn,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=_(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,c,l=r[a],u=l.length,d=i[a]=new Array(u),h=0;h<u;++h)(s=l[h])&&(c=e.call(s,s.__data__,h,l))&&("__data__"in s&&(c.__data__=s.__data__),d[h]=c,rn(d[h],t,n,h,d,sn(s,n)));return new jn(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=E(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var c,l=r[s],u=l.length,d=0;d<u;++d)if(c=l[d]){for(var h,f=e.call(c,c.__data__,d,l),p=sn(c,n),m=0,y=f.length;m<y;++m)(h=f[m])&&rn(h,t,n,m,f,p);i.push(f),a.push(c)}return new jn(i,a,t,n)},filter:function(e){"function"!=typeof e&&(e=S(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,c=r[o]=[],l=0;l<s;++l)(i=a[l])&&e.call(i,i.__data__,l,a)&&c.push(i);return new jn(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var c,l=t[s],u=n[s],d=l.length,h=a[s]=new Array(d),f=0;f<d;++f)(c=l[f]||u[f])&&(h[f]=c);for(;s<r;++s)a[s]=t[s];return new jn(a,this._parents,this._name,this._id)},selection:function(){return new Tn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=zn(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=sn(a,t);rn(a,e,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new jn(r,this._parents,e,n)},call:Hn.call,nodes:Hn.nodes,node:Hn.node,size:Hn.size,empty:Hn.empty,each:Hn.each,on:function(e,t){var n=this._id;return arguments.length<2?sn(this.node(),n).on.on(e):this.each(An(n,e,t))},attr:function(e,t){var n=y(e),r="transform"===n?Dt:hn;return this.attrTween(e,"function"==typeof t?(n.local?gn:vn)(n,r,dn(this,"attr."+e,t)):null==t?(n.local?pn:fn)(n):(n.local?yn:mn)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=y(e);return this.tween(n,(r.local?_n:xn)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Mt:hn;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=B(this,e),a=(this.style.removeProperty(e),B(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,qn(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var a=B(this,e),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(e),c=s=B(this,e)),a===c?null:a===r&&c===o?i:(o=c,i=t(r=a,s))}}(e,r,dn(this,"style."+e,t))).each(function(e,t){var n,r,o,i,a="style."+t,s="end."+a;return function(){var c=an(this,e),l=c.on,u=null==c.value[a]?i||(i=qn(t)):void 0;l===n&&o===u||(r=(n=l).copy()).on(s,o=u),c.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var a=B(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,Mn(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(dn(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,On(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=sn(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?ln:un)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?En:Sn)(t,e)):sn(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ln:kn)(t,e)):sn(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Cn(t,e)):sn(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},c={value:function(){0==--o&&i()}};n.each((function(){var n=an(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),n.on=t}))}))}};var Rn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Bn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return Rn.time=Gt(),Rn;return n}Ee.prototype.interrupt=function(e){return this.each((function(){cn(this,e)}))},Ee.prototype.transition=function(e){var t,n;e instanceof jn?(t=e._id,e=e._name):(t=zn(),(n=Rn).time=Gt(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,l=0;l<c;++l)(a=s[l])&&rn(a,e,t,l,s,n||Bn(a,t));return new jn(r,this._parents,e,t)};var Pn=Math.PI,Fn=2*Pn,Un=1e-6,$n=Fn-Un;function Yn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Vn(){return new Yn}Yn.prototype=Vn.prototype={constructor:Yn,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var i=this._x1,a=this._y1,s=n-e,c=r-t,l=i-e,u=a-t,d=l*l+u*u;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>Un)if(Math.abs(u*s-c*l)>Un&&o){var h=n-i,f=r-a,p=s*s+c*c,m=h*h+f*f,y=Math.sqrt(p),v=Math.sqrt(d),g=o*Math.tan((Pn-Math.acos((p+d-m)/(2*y*v)))/2),w=g/v,b=g/y;Math.abs(w-1)>Un&&(this._+="L"+(e+w*l)+","+(t+w*u)),this._+="A"+o+","+o+",0,0,"+ +(u*h>l*f)+","+(this._x1=e+b*s)+","+(this._y1=t+b*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,o,i){e=+e,t=+t,i=!!i;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),c=e+a,l=t+s,u=1^i,d=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>Un||Math.abs(this._y1-l)>Un)&&(this._+="L"+c+","+l),n&&(d<0&&(d=d%Fn+Fn),d>$n?this._+="A"+n+","+n+",0,1,"+u+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):d>Un&&(this._+="A"+n+","+n+",0,"+ +(d>=Pn)+","+u+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Gn="$";function Xn(){}function Wn(e,t){var n=new Xn;if(e instanceof Xn)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,o=-1,i=e.length;if(null==t)for(;++o<i;)n.set(o,e[o]);else for(;++o<i;)n.set(t(r=e[o],o,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}function Jn(){}Xn.prototype=Wn.prototype={constructor:Xn,has:function(e){return Gn+e in this},get:function(e){return this[Gn+e]},set:function(e,t){return this[Gn+e]=t,this},remove:function(e){var t=Gn+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===Gn&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===Gn&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===Gn&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===Gn&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===Gn&&++e;return e},empty:function(){for(var e in this)if(e[0]===Gn)return!1;return!0},each:function(e){for(var t in this)t[0]===Gn&&e(this[t],t.slice(1),this)}};var Qn=Wn.prototype;function Kn(e){return function(){return e}}function Zn(){return 1e-6*(Math.random()-.5)}function er(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,s,c,l,u,d,h,f=e._root,p={data:r},m=e._x0,y=e._y0,v=e._x1,g=e._y1;if(!f)return e._root=p,e;for(;f.length;)if((l=t>=(i=(m+v)/2))?m=i:v=i,(u=n>=(a=(y+g)/2))?y=a:g=a,o=f,!(f=f[d=u<<1|l]))return o[d]=p,e;if(s=+e._x.call(null,f.data),c=+e._y.call(null,f.data),t===s&&n===c)return p.next=f,o?o[d]=p:e._root=p,e;do{o=o?o[d]=new Array(4):e._root=new Array(4),(l=t>=(i=(m+v)/2))?m=i:v=i,(u=n>=(a=(y+g)/2))?y=a:g=a}while((d=u<<1|l)==(h=(c>=a)<<1|s>=i));return o[h]=f,o[d]=p,e}function tr(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function nr(e){return e[0]}function rr(e){return e[1]}function or(e,t,n){var r=new ir(null==t?nr:t,null==n?rr:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function ir(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function ar(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}Jn.prototype={constructor:Jn,has:Qn.has,add:function(e){return this[Gn+(e+="")]=e,this},remove:Qn.remove,clear:Qn.clear,values:Qn.keys,size:Qn.size,empty:Qn.empty,each:Qn.each};var sr=or.prototype=ir.prototype;function cr(e){return e.index}function lr(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function ur(e){return e.x}function dr(e){return e.y}sr.copy=function(){var e,t,n=new ir(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ar(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=ar(t));return n},sr.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return er(this.cover(t,n),t,n,e)},sr.addAll=function(e){var t,n,r,o,i=e.length,a=new Array(i),s=new Array(i),c=1/0,l=1/0,u=-1/0,d=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,s[n]=o,r<c&&(c=r),r>u&&(u=r),o<l&&(l=o),o>d&&(d=o));if(c>u||l>d)return this;for(this.cover(c,l).cover(u,d),n=0;n<i;++n)er(this,a[n],s[n],e[n]);return this},sr.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var a,s,c=o-n,l=this._root;n>e||e>=o||r>t||t>=i;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=l,l=a,c*=2,s){case 0:o=n+c,i=r+c;break;case 1:n=o-c,i=r+c;break;case 2:o=n+c,r=i-c;break;case 3:n=o-c,r=i-c}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},sr.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},sr.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},sr.find=function(e,t,n){var r,o,i,a,s,c,l,u=this._x0,d=this._y0,h=this._x1,f=this._y1,p=[],m=this._root;for(m&&p.push(new tr(m,u,d,h,f)),null==n?n=1/0:(u=e-n,d=t-n,h=e+n,f=t+n,n*=n);c=p.pop();)if(!(!(m=c.node)||(o=c.x0)>h||(i=c.y0)>f||(a=c.x1)<u||(s=c.y1)<d))if(m.length){var y=(o+a)/2,v=(i+s)/2;p.push(new tr(m[3],y,v,a,s),new tr(m[2],o,v,y,s),new tr(m[1],y,i,a,v),new tr(m[0],o,i,y,v)),(l=(t>=v)<<1|e>=y)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=c)}else{var g=e-+this._x.call(null,m.data),w=t-+this._y.call(null,m.data),b=g*g+w*w;if(b<n){var _=Math.sqrt(n=b);u=e-_,d=t-_,h=e+_,f=t+_,r=m.data}}return r},sr.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,s,c,l,u,d,h,f=this._root,p=this._x0,m=this._y0,y=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((l=i>=(s=(p+y)/2))?p=s:y=s,(u=a>=(c=(m+v)/2))?m=c:v=c,t=f,!(f=f[d=u<<1|l]))return this;if(!f.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,h=d)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(o=f.next)&&delete f.next,r?(o?r.next=o:delete r.next,this):t?(o?t[d]=o:delete t[d],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=o,this)},sr.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},sr.root=function(){return this._root},sr.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},sr.visit=function(e){var t,n,r,o,i,a,s=[],c=this._root;for(c&&s.push(new tr(c,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(c=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&c.length){var l=(r+i)/2,u=(o+a)/2;(n=c[3])&&s.push(new tr(n,l,u,i,a)),(n=c[2])&&s.push(new tr(n,r,u,l,a)),(n=c[1])&&s.push(new tr(n,l,o,i,u)),(n=c[0])&&s.push(new tr(n,r,o,l,u))}return this},sr.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new tr(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,s=t.y0,c=t.x1,l=t.y1,u=(a+c)/2,d=(s+l)/2;(i=o[0])&&n.push(new tr(i,a,s,u,d)),(i=o[1])&&n.push(new tr(i,u,s,c,d)),(i=o[2])&&n.push(new tr(i,a,d,u,l)),(i=o[3])&&n.push(new tr(i,u,d,c,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},sr.x=function(e){return arguments.length?(this._x=e,this):this._x},sr.y=function(e){return arguments.length?(this._y=e,this):this._y};var hr=Math.PI*(3-Math.sqrt(5));function fr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var pr=Array.prototype.slice,mr={name:"implicit"};function yr(e){return function(){return e}}var vr=Math.PI,gr=2*vr,wr={draw:function(e,t){var n=Math.sqrt(t/vr);e.moveTo(n,0),e.arc(0,0,n,0,gr)}};function br(e){return function(){return e}}function _r(e,t,n){this.target=e,this.type=t,this.transform=n}function xr(e,t,n){this.k=e,this.x=t,this.y=n}xr.prototype={constructor:xr,scale:function(e){return 1===e?this:new xr(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new xr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Er=new xr(1,0,0);function Sr(){de.stopImmediatePropagation()}function Lr(){de.preventDefault(),de.stopImmediatePropagation()}function kr(){return!de.ctrlKey&&!de.button}function Cr(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Ar(){return this.__zoom||Er}function Tr(){return-de.deltaY*(1===de.deltaMode?.05:de.deltaMode?1:.002)}function qr(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nr(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}var Mr={Movie:e=>e.properties.title,Person:e=>e.properties.name},Dr=function e(){var t=Wn(),n=[],r=[],o=mr;function i(e){var i=e+"",a=t.get(i);if(!a){if(o!==mr)return o;t.set(i,a=n.push(e))}return r[(a-1)%r.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Wn();for(var r,o,a=-1,s=e.length;++a<s;)t.has(o=(r=e[a])+"")||t.set(o,n.push(r));return i},i.range=function(e){return arguments.length?(r=pr.call(e),i):r.slice()},i.unknown=function(e){return arguments.length?(o=e,i):o},i.copy=function(){return e(n,r).unknown(o)},fr.apply(i,arguments),i}(["#2f855a","#319795","#2c5282","#434190","#553c9a","#9b2c2c","#9c4221","#975a16","#97266d","#2d3748"]),Or=function(e){var t=void 0!==e.labels?e.labels[0]:"Default";return Dr(t)||"gray"},Ir=function(e){if(e.name)return e.name;for(let t=0;t<e.labels.length;t++)if(Mr[e.labels[t]])return Mr[e.labels[t]](e);return e.id};function jr(e,t){var n=Se(e).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 600 400"),r={x:(+n.attr("width")||e.clientWidth)/2,y:(+n.attr("height")||e.clientHeight)/2},o=n.append("g").attr("class","everything"),i=function(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,s=Wn(),c=Jt(d),u=l("tick","end");function d(){h(),u.call("tick",t),n<r&&(c.stop(),u.call("end",t))}function h(r){var c,l,u=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(i-n)*o,s.each((function(e){e(n)})),c=0;c<u;++c)null==(l=e[c]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return t}function f(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=10*Math.sqrt(n),i=n*hr;t.x=o*Math.cos(i),t.y=o*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),f(),t={tick:h,restart:function(){return c.restart(d),t},stop:function(){return c.stop(),t},nodes:function(n){return arguments.length?(e=n,f(),s.each(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},force:function(e,n){return arguments.length>1?(null==n?s.remove(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var o,i,a,s,c,l=0,u=e.length;for(null==r?r=1/0:r*=r,l=0;l<u;++l)(a=(o=t-(s=e[l]).x)*o+(i=n-s.y)*i)<r&&(c=s,r=a);return c},on:function(e,n){return arguments.length>1?(u.on(e,n),t):u.on(e)}}}().force("charge",function(){var e,t,n,r,o=Kn(-30),i=1,a=1/0,s=.81;function c(r){var o,i=e.length,a=or(e,ur,dr).visitAfter(u);for(n=r,o=0;o<i;++o)t=e[o],a.visit(d)}function l(){if(e){var t,n,i=e.length;for(r=new Array(i),t=0;t<i;++t)n=e[t],r[n.index]=+o(n,t,e)}}function u(e){var t,n,o,i,a,s=0,c=0;if(e.length){for(o=i=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,c+=n,o+=n*t.x,i+=n*t.y);e.x=o/c,e.y=i/c}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=r[t.data.index]}while(t=t.next)}e.value=s}function d(e,o,c,l){if(!e.value)return!0;var u=e.x-t.x,d=e.y-t.y,h=l-o,f=u*u+d*d;if(h*h/s<f)return f<a&&(0===u&&(f+=(u=Zn())*u),0===d&&(f+=(d=Zn())*d),f<i&&(f=Math.sqrt(i*f)),t.vx+=u*e.value*n/f,t.vy+=d*e.value*n/f),!0;if(!(e.length||f>=a)){(e.data!==t||e.next)&&(0===u&&(f+=(u=Zn())*u),0===d&&(f+=(d=Zn())*d),f<i&&(f=Math.sqrt(i*f)));do{e.data!==t&&(h=r[e.data.index]*n/f,t.vx+=u*h,t.vy+=d*h)}while(e=e.next)}}return c.initialize=function(t){e=t,l()},c.strength=function(e){return arguments.length?(o="function"==typeof e?e:Kn(+e),l(),c):o},c.distanceMin=function(e){return arguments.length?(i=e*e,c):Math.sqrt(i)},c.distanceMax=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.theta=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c}().strength(-200)).force("center",function(e,t){var n;function r(){var r,o,i=n.length,a=0,s=0;for(r=0;r<i;++r)a+=(o=n[r]).x,s+=o.y;for(a=a/i-e,s=s/i-t,r=0;r<i;++r)(o=n[r]).x-=a,o.y-=s}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r}(r.x,r.y)),a=function(){var e,t,n=kr,r=Cr,o=Nr,i=Tr,a=qr,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=jt,h=l("start","zoom","end"),f=500,p=0;function m(e){e.property("__zoom",Ar).on("wheel.zoom",x).on("mousedown.zoom",E).on("dblclick.zoom",S).filter(a).on("touchstart.zoom",L).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new xr(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new xr(e.k,r,o)}function g(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n){e.on("start.zoom",(function(){b(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).end()})).tween("zoom",(function(){var e=this,o=arguments,i=b(e,o),a=r.apply(e,o),s=null==n?g(a):"function"==typeof n?n.apply(e,o):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=e.__zoom,u="function"==typeof t?t.apply(e,o):t,h=d(l.invert(s).concat(c/l.k),u.invert(s).concat(c/u.k));return function(e){if(1===e)e=u;else{var t=h(e),n=c/t[2];e=new xr(n,s[0]-t[0]*n,s[1]-t[1]*n)}i.zoom(null,e)}}))}function b(e,t,n){return!n&&e.__zooming||new _(e,t)}function _(e,t){this.that=e,this.args=t,this.active=0,this.extent=r.apply(e,t),this.taps=0}function x(){if(n.apply(this,arguments)){var e=b(this,arguments),t=this.__zoom,r=Math.max(s[0],Math.min(s[1],t.k*Math.pow(2,i.apply(this,arguments)))),a=Ce(this);if(e.wheel)e.mouse[0][0]===a[0]&&e.mouse[0][1]===a[1]||(e.mouse[1]=t.invert(e.mouse[0]=a)),clearTimeout(e.wheel);else{if(t.k===r)return;e.mouse=[a,t.invert(a)],cn(this),e.start()}Lr(),e.wheel=setTimeout(l,150),e.zoom("mouse",o(v(y(t,r),e.mouse[0],e.mouse[1]),e.extent,c))}function l(){e.wheel=null,e.end()}}function E(){if(!t&&n.apply(this,arguments)){var e=b(this,arguments,!0),r=Se(de.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",u,!0),i=Ce(this),a=de.clientX,s=de.clientY;Ne(de.view),Sr(),e.mouse=[i,this.__zoom.invert(i)],cn(this),e.start()}function l(){if(Lr(),!e.moved){var t=de.clientX-a,n=de.clientY-s;e.moved=t*t+n*n>p}e.zoom("mouse",o(v(e.that.__zoom,e.mouse[0]=Ce(e.that),e.mouse[1]),e.extent,c))}function u(){r.on("mousemove.zoom mouseup.zoom",null),Me(de.view,e.moved),Lr(),e.end()}}function S(){if(n.apply(this,arguments)){var e=this.__zoom,t=Ce(this),i=e.invert(t),a=e.k*(de.shiftKey?.5:2),s=o(v(y(e,a),t,i),r.apply(this,arguments),c);Lr(),u>0?Se(this).transition().duration(u).call(w,s,t):Se(this).call(m.transform,s)}}function L(){if(n.apply(this,arguments)){var t,r,o,i,a=de.touches,s=a.length,c=b(this,arguments,de.changedTouches.length===s);for(Sr(),r=0;r<s;++r)i=[i=Ae(this,a,(o=a[r]).identifier),this.__zoom.invert(i),o.identifier],c.touch0?c.touch1||c.touch0[2]===i[2]||(c.touch1=i,c.taps=0):(c.touch0=i,t=!0,c.taps=1+!!e);e&&(e=clearTimeout(e)),t&&(c.taps<2&&(e=setTimeout((function(){e=null}),f)),cn(this),c.start())}}function k(){if(this.__zooming){var t,n,r,i,a=b(this,arguments),s=de.changedTouches,l=s.length;for(Lr(),e&&(e=clearTimeout(e)),a.taps=0,t=0;t<l;++t)r=Ae(this,s,(n=s[t]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var u=a.touch0[0],d=a.touch0[1],h=a.touch1[0],f=a.touch1[1],p=(p=h[0]-u[0])*p+(p=h[1]-u[1])*p,m=(m=f[0]-d[0])*m+(m=f[1]-d[1])*m;n=y(n,Math.sqrt(p/m)),r=[(u[0]+h[0])/2,(u[1]+h[1])/2],i=[(d[0]+f[0])/2,(d[1]+f[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],i=a.touch0[1]}a.zoom("touch",o(v(n,r,i),a.extent,c))}}function C(){if(this.__zooming){var e,n,r=b(this,arguments),o=de.changedTouches,i=o.length;for(Sr(),t&&clearTimeout(t),t=setTimeout((function(){t=null}),f),e=0;e<i;++e)n=o[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=Se(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return m.transform=function(e,t,n){var r=e.selection?e.selection():e;r.property("__zoom",Ar),e!==r?w(e,t,n):r.interrupt().each((function(){b(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n){m.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n)},m.scaleTo=function(e,t,n){m.transform(e,(function(){var e=r.apply(this,arguments),i=this.__zoom,a=null==n?g(e):"function"==typeof n?n.apply(this,arguments):n,s=i.invert(a),l="function"==typeof t?t.apply(this,arguments):t;return o(v(y(i,l),a,s),e,c)}),n)},m.translateBy=function(e,t,n){m.transform(e,(function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)}))},m.translateTo=function(e,t,n,i){m.transform(e,(function(){var e=r.apply(this,arguments),a=this.__zoom,s=null==i?g(e):"function"==typeof i?i.apply(this,arguments):i;return o(Er.translate(s[0],s[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)}),i)},_.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){ve(new _r(m,e,this.that.__zoom),h.apply,h,[e,this.that,this.args])}},m.wheelDelta=function(e){return arguments.length?(i="function"==typeof e?e:br(+e),m):i},m.filter=function(e){return arguments.length?(n="function"==typeof e?e:br(!!e),m):n},m.touchable=function(e){return arguments.length?(a="function"==typeof e?e:br(!!e),m):a},m.extent=function(e){return arguments.length?(r="function"==typeof e?e:br([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):r},m.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],m):[s[0],s[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(o=e,m):o},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,m):Math.sqrt(p)},m}().on("zoom",(function(){o.attr("transform",de.transform)}));a(n),i.nodes(t.nodes),i.force("link",function(e){var t,n,r,o,i,a=cr,s=function(e){return 1/Math.min(o[e.source.index],o[e.target.index])},c=Kn(30),l=1;function u(r){for(var o=0,a=e.length;o<l;++o)for(var s,c,u,d,h,f,p,m=0;m<a;++m)c=(s=e[m]).source,d=(u=s.target).x+u.vx-c.x-c.vx||Zn(),h=u.y+u.vy-c.y-c.vy||Zn(),d*=f=((f=Math.sqrt(d*d+h*h))-n[m])/f*r*t[m],h*=f,u.vx-=d*(p=i[m]),u.vy-=h*p,c.vx+=d*(p=1-p),c.vy+=h*p}function d(){if(r){var s,c,l=r.length,u=e.length,d=Wn(r,a);for(s=0,o=new Array(l);s<u;++s)(c=e[s]).index=s,"object"!=typeof c.source&&(c.source=lr(d,c.source)),"object"!=typeof c.target&&(c.target=lr(d,c.target)),o[c.source.index]=(o[c.source.index]||0)+1,o[c.target.index]=(o[c.target.index]||0)+1;for(s=0,i=new Array(u);s<u;++s)c=e[s],i[s]=o[c.source.index]/(o[c.source.index]+o[c.target.index]);t=new Array(u),h(),n=new Array(u),f()}}function h(){if(r)for(var n=0,o=e.length;n<o;++n)t[n]=+s(e[n],n,e)}function f(){if(r)for(var t=0,o=e.length;t<o;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),u.initialize=function(e){r=e,d()},u.links=function(t){return arguments.length?(e=t,d(),u):e},u.id=function(e){return arguments.length?(a=e,u):a},u.iterations=function(e){return arguments.length?(l=+e,u):l},u.strength=function(e){return arguments.length?(s="function"==typeof e?e:Kn(+e),h(),u):s},u.distance=function(e){return arguments.length?(c="function"==typeof e?e:Kn(+e),f(),u):c},u}(t.links).distance(90).strength(.2).id((function(e){return e.id})));var s=o.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(t.links).join("line").attr("stroke-width",2),c=o.append("g").attr("class","nodes").selectAll("g").data(t.nodes).enter().append("g").call(function(e){return function(){var e,t,n,r,o=Ie,i=je,a=ze,s=He,c={},u=l("start","drag","end"),d=0,h=0;function f(e){e.on("mousedown.drag",p).filter(s).on("touchstart.drag",v).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!r&&o.apply(this,arguments)){var a=b("mouse",i.apply(this,arguments),Ce,this,arguments);a&&(Se(de.view).on("mousemove.drag",m,!0).on("mouseup.drag",y,!0),Ne(de.view),Te(),n=!1,e=de.clientX,t=de.clientY,a("start"))}}function m(){if(qe(),!n){var r=de.clientX-e,o=de.clientY-t;n=r*r+o*o>h}c.mouse("drag")}function y(){Se(de.view).on("mousemove.drag mouseup.drag",null),Me(de.view,n),qe(),c.mouse("end")}function v(){if(o.apply(this,arguments)){var e,t,n=de.changedTouches,r=i.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=b(n[e].identifier,r,Ae,this,arguments))&&(Te(),t("start"))}}function g(){var e,t,n=de.changedTouches,r=n.length;for(e=0;e<r;++e)(t=c[n[e].identifier])&&(qe(),t("drag"))}function w(){var e,t,n=de.changedTouches,o=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(t=c[n[e].identifier])&&(Te(),t("end"))}function b(e,t,n,r,o){var i,s,l,h=n(t,e),p=u.copy();if(ve(new Oe(f,"beforestart",i,e,d,h[0],h[1],0,0,p),(function(){return null!=(de.subject=i=a.apply(r,o))&&(s=i.x-h[0]||0,l=i.y-h[1]||0,!0)})))return function a(u){var m,y=h;switch(u){case"start":c[e]=a,m=d++;break;case"end":delete c[e],--d;case"drag":h=n(t,e),m=d}ve(new Oe(f,u,i,e,m,h[0]+s,h[1]+l,h[0]-y[0],h[1]-y[1],p),p.apply,p,[u,r,o])}}return f.filter=function(e){return arguments.length?(o="function"==typeof e?e:De(!!e),f):o},f.container=function(e){return arguments.length?(i="function"==typeof e?e:De(e),f):i},f.subject=function(e){return arguments.length?(a="function"==typeof e?e:De(e),f):a},f.touchable=function(e){return arguments.length?(s="function"==typeof e?e:De(!!e),f):s},f.on=function(){var e=u.on.apply(u,arguments);return e===u?f:e},f.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,f):Math.sqrt(h)},f}().on("start",(function(t){de.active||e.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y})).on("drag",(function(e){e.fx=de.x,e.fy=de.y})).on("end",(function(t){de.active||e.alphaTarget(0).restart(),t.fx=null,t.fy=null}))}(i));c.append("path").attr("fill",Or).attr("stroke",(function(e){return(rt(Or(e))||st(51,51,51)).darker().hex()})).attr("stroke-width",2).attr("d",(function(){return function(){var e=yr(wr),t=yr(64),n=null;function r(){var r;if(n||(n=r=Vn()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"==typeof t?t:yr(t),r):e},r.size=function(e){return arguments.length?(t="function"==typeof e?e:yr(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type(wr).size(2e3)()})),c.append("text").attr("font-size",10).text(Ir).attr("text-anchor","middle").attr("fill","black").attr("x",0).attr("y",4).attr("pointer-events","none"),c.append("title").text((function(e){return e.id})),i.on("tick",(function(){s.attr("x1",(e=>e.source.x)).attr("y1",(e=>e.source.y)).attr("x2",(e=>e.target.x)).attr("y2",(e=>e.target.y)),c.attr("transform",(function(e){return"translate("+e.x+","+e.y+")"}))})),function(e,t){var r=n.node().getBBox(),o=n.node().parentElement,i=o.clientWidth,s=o.clientHeight,c=r.width,l=r.height,u=r.x+c/2,d=r.y+l/2;if(0!==c&&0!==l){var h=(e||.75)/Math.max(c/i,l/s),f=[i/2-h*u,s/2-h*d];console.trace("zoomFit",f,h),n.transition().duration(t||0).call(a.translateTo,f[0],f[1])}}(.7,1e3)}function zr(e,t,n,r,o,i){var a=new XMLHttpRequest;a.open(e,t,!0),a.setRequestHeader("Content-Type","application/json"),r&&a.setRequestHeader("Authorization",r),a.onload=function(){this.status>=200&&this.status<400?o&&o(JSON.parse(this.response)):i&&i(this.response)},a.onerror=function(e){i(e)},n?a.send(JSON.stringify(n)):a.send()}function Hr(e,t,n,r){zr("GET",e,"",t,n,r)}function Rr(e,t,n,r,o){zr("POST",e,t,n,r,o)}const Br=function(e){return new Promise(((t,n)=>{try{Rr("https://graphgist-v3-api.herokuapp.com/graphql",e,void 0,(function(e){t(e)}),(function(e){n(e)}))}catch(e){n(e)}}))};let Pr;function Fr(t,n="Run Query",r,o){let s;var c="database:",l="backend:",u="mode:",d=["mode:read","mode:write"];const h=async function(){if(!Pr){const e=await async function(e="3.5"){return Br({operationName:"sessionId",variables:{neo4j_version:e},query:"query sessionId($neo4j_version: String) { getConsoleSessionId(neo4j_version: $neo4j_version) }"})}();Pr=e.data.getConsoleSessionId}return Pr},f=function(e){Array.from(e.querySelectorAll(".code-results")).forEach((function(t){e.removeChild(t)}))};const p=function(t,n,r){var o=t.parentNode.classList.contains("graph");void 0===r&&(r=o),f(t);var i=e("div","code-result-container");let s;if(r){const t=function(e){const t={};if(e.visualization){t.paths=e.json,t.nodes=e.visualization.nodes;const n=e.visualization.links;t.links=n.map((e=>(e.source&&(e.source=e.start),e.target&&(e.target=e.end),e)))}else{const n=[],r=[];e.records.forEach((e=>{e.keys.forEach((t=>{const o=e.get(t);o.labels&&-1===n.findIndex((e=>e.id===o.identity.toNumber()))?n.push({id:o.identity.toNumber(),labels:o.labels,properties:o.properties}):o.type&&r.push({id:o.identity.toNumber(),source:o.start.toNumber(),target:o.end.toNumber(),type:o.type,properties:o.properties})}))})),t.paths=[],t.nodes=n,t.links=r}return t}(n);s=function(t,n){const r=e("div","gram");t.appendChild(r);const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width",r.clientWidth),o.setAttribute("height",r.clientHeight),r.appendChild(o);const i=new Set;for(const e of n.paths){const t=Object.keys(e);for(const n of t){const t=e[n],r=Array.isArray(t)?t:[t];for(const e of r)e._labels&&i.add(JSON.stringify({id:e._id,labels:e._labels}))}}const a=i&&i.size>0?n.nodes.filter((e=>i.has(JSON.stringify({id:e.id,labels:e.labels})))):n.nodes,s=a.map((e=>e.id)),c=i&&i.size>0&&n.links.some((e=>e.selected))?n.links.filter((e=>e.selected)):n.links.filter((e=>e.end&&s.includes(e.end)&&e.target&&s.includes(e.target)));return setTimeout((()=>jr(o,{nodes:a,links:c})),100),r}(i,t)}else{const t=function(e){const t={};return e.columns&&(t.columns=e.columns),e.json&&(t.data=e.json.slice(0,100)),e.records&&(t.columns=e.records[0].keys,t.data=e.records.slice(0,100).map((function(e){return e.keys.reduce((function(t,n){return t[n]=a(e.get(n)),t}),{})}))),t}(n);if(t.columns&&t.columns.length&&t.data&&t.data.length)s=function(t){const n=t.columns.map((function(t){return e("th","",[document.createTextNode(t)])})),r=e("tr","",n),o=e("thead","",[r]),i=e("tbody","",t.data.map((function(n,r){return e("tr","row-"+r,t.columns.map((function(t){let r=a(n[t]);return r="string"!=typeof r?e("pre","",[document.createTextNode(JSON.stringify(r,null,2))]):document.createTextNode(r),e("td",t,[r])})))})));return e("table","code-result-table",[o,i])}(t);else{const t=n.result?n.result:n.stats?JSON.stringify(n.stats,null,2):"";s=e("code","code-result-raw",e("pre","",document.createTextNode(t)))}}i.appendChild(s);var c=e("button","btn btn-close",[document.createTextNode("Close Results")]);c.addEventListener("click",(function(){f(t)}));var l=null;if(o){var u=e("button",r?"code-result-toggle--current":"",document.createTextNode("Graph"));u.addEventListener("click",(()=>{p(t,n,!0)}));var d=e("button",r?"":"code-result-toggle--current",document.createTextNode("Table"));d.addEventListener("click",(()=>{p(t,n,!1)})),l=e("div","code-result-toggle",[u,d])}var h=e("div","code-result-options",[e("div","code-result-header",[document.createTextNode("Results")]),e("div","spacer"),l,c]),m=e("div","code-results",[h,i]);t.appendChild(m)};var m=function(t,n){f(t);var r=e("div","code-results",[e("div","code-result-options",[e("div","code-result-header",[document.createTextNode("Error")])]),e("pre","error",[document.createTextNode(n.message)])]);t.appendChild(r)};const y=async function(e,t,n,a,c,l,u="neo4jlabs"){const d=i(n.querySelector("pre").innerText);if(""!==d.trim())if("neo4jlabs"===u)l.innerHTML="Initialising Driver&hellip;",c.disabled=!0,window.mixpanel&&window.mixpanel.track("DOCS_CODE_RUN_EXAMPLE",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,database:t,mode:e,language:"cypher",code:d}),(s?Promise.resolve(s):(window.neo4jDatabaseUri="neo4j+s://demo.neo4jlabs.com:7687",window.neo4jDatabase="movies",s=window.neo4j.driver(window.neo4jDatabaseUri,window.neo4j.auth.basic("movies","movies")),s.verifyConnectivity().then((function(){return s})))).then((function(i){l.innerHTML="Running Query&hellip;";var s=i.session({mode:e,database:t}),u=s.beginTransaction();return u.run(d).then((function(e){c.disabled=!1,l.innerHTML="",a.classList.add("has-results"),"function"==typeof r&&r({cypher:d,results:e}),p(n,e)})).catch((function(e){c.disabled=!1,l.innerHTML="",a.classList.add("has-results"),"function"==typeof o&&o({cypher:d,error:e}),m(n,e)})).then((function(){return u.rollback()})).then((function(){return s.close()}))})).catch((function(r){c.disabled=!1,l.innerHTML="",a.classList.add("has-results"),"function"==typeof o&&o({cypher:d,error:r}),window.mixpanel&&window.mixpanel.track("DOCS_CODE_RUN_ERROR",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,database:t,mode:e,code:d,message:r.message}),m(n,r)}));else{l.innerHTML="Initialising Session&hellip;",c.disabled=!0;try{const e=await h();l.innerHTML="Running Query&hellip;";try{const t=await async function(e,t,n="3.5"){return Br({operationName:"cypherQuery",variables:{session_id:t,neo4j_version:n,cypher:e},query:"query cypherQuery($neo4j_version: String, $session_id: String!, $cypher: String!) {\n queryConsole(neo4j_version: $neo4j_version, session_id: $session_id, cypher: $cypher)\n}"})}(d,e),r=JSON.parse(t.data.queryConsole);c.disabled=!1,l.innerHTML="",a.classList.add("has-results"),r.error?(console.error("Unsuccessful query:",r.error),m(n,{message:r.error})):p(n,r)}catch(e){c.disabled=!1,l.innerHTML="",a.classList.add("has-results"),console.error("Error while executing query:",e),m(n,e)}}catch(e){c.disabled=!1,l.innerHTML="",a.classList.add("has-results"),console.error("Something bad happened:",e),m(n,e)}}};var v="READ",g="movies",w="neo4jlabs",b=t.querySelector(".content"),_=b.querySelector("pre"),x=_.innerHTML,E=i(_.innerText),S=e("div","loading");const L=[S,e("div","spacer")],k=e("button","btn btn-run btn-primary",[document.createTextNode(n)]);t.classList.contains("single")||(k.addEventListener("click",(function(){y(v,g,b,C,k,S,w)})),L.unshift(k));var C=e("div","code-footer",L);b.appendChild(C),b.addEventListener("input",(function(t){var n=C.querySelector(".btn-reset");i(b.querySelector("pre").innerText)!==E?n||(n=e("button","btn btn-reset",[document.createTextNode("Reset")]),C.appendChild(n),n.addEventListener("click",(function(){_.innerHTML=x,C.removeChild(n)}))):n&&C.removeChild(n)})),t.classList.forEach((function(e){e.startsWith(c)?g=e.replace(c,""):e.startsWith(u)&&d.indexOf(e.toLowerCase())>-1?v=e.replace(u,"").toUpperCase():e.startsWith(l)&&(w=e.replace(l,"").toLowerCase())}));let A=()=>{};return t.classList.contains("instant")&&(A=async()=>y(v,g,b,C,k,S,w)),{element:t,callback:A}}function Ur(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}document.addEventListener("DOMContentLoaded",(async function(){document.querySelectorAll(".editable").forEach((function(e){e.querySelectorAll("code").forEach((function(e){e.contentEditable=!0}))}));var e=Array.from(document.querySelectorAll(".runnable"));if(!e.filter((e=>!e.className.includes("backend:graphgist"))).length||window.neo4j&&window.neo4j.driver){if(0!==Fr.length)for(const t of e)try{await Fr(t).callback()}catch(e){console.log("Unable to initialize the runnable element",t,e)}}else console.warn("Neo4j driver is not loaded, unable to run Cypher queries...")})),document.addEventListener("DOMContentLoaded",(function(){function t(e){return e.charAt(0).toUpperCase()+e.slice(1)}var n="tabbed-target--active",r="tabbed-tab--active",o=void 0!==window.sessionStorage&&"function"==typeof window.sessionStorage.getItem&&"function"==typeof window.sessionStorage.setItem,i=function(e){var t=e.target,i=t.dataset.lang,a=t.dataset.title,s=0,c=document.querySelector(".toolbar");c.offsetHeight&&(s=c.offsetHeight);var l=document.querySelector(".navbar").offsetHeight+s+20,u=window.scrollY+l,d=t.getBoundingClientRect().top+window.scrollY;document.querySelectorAll('.tabbed-target[data-title="'+a+'"]').forEach((function(e){e.parentElement.querySelectorAll("."+n).forEach((function(e){e.classList.remove(n)})),e.classList.add(n),e.parentElement.parentElement.querySelectorAll("."+r).forEach((function(e){e.classList.remove(r)})),e.parentElement.parentElement.querySelectorAll('.tabbed-tab[data-title="'+a+'"]').forEach((function(e){e.classList.add(r)}))}));var h=d-(t.getBoundingClientRect().top+window.scrollY);window.scrollTo({top:u-h-l,behavior:"instant"}),o&&window.sessionStorage.setItem("code_example_language",i),window.mixpanel&&window.mixpanel.track("DOCS_TAB_CHANGE",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,language:i,title:a})},a=["train","stream","stats","mutate","write"],s=[],c="include-with-";document.querySelectorAll('[class*="'+c+'"]').forEach((function(e){e.classList.forEach((function(e){var t=e.replace(c,"");e.startsWith(c)&&-1===s.indexOf(t)&&s.push(t)}))}));var l,u,d,h,f,p="dotnet";if(o){var m=new URLSearchParams(window.location.search).get("language");if(m&&s.includes(m.toLocaleLowerCase()))p=m.toLocaleLowerCase(),window.sessionStorage.setItem("code_example_language",p);else{var y=window.sessionStorage.getItem("code_example_language");y&&s.includes(y)&&(p=y)}}Array.from(document.querySelectorAll(".tabbed-example")).forEach((function(n){var o=n.querySelector(".title"),c=n,l=n.parentElement,u=[],d=!1;if(s.forEach((function(e){n.querySelectorAll(".include-with-"+e).forEach((function(t){t.setAttribute("data-title",e),t.setAttribute("data-lang",e),u.push(t),a.includes(e)&&(d=!0)}))})),!(u.length<=1)||d){var h=e("div","tabbed-container",[]),f=e("div","tabbed",[h]);o&&l.insertBefore(o,c),l.insertBefore(f,c);var m=u.map((function(n){var o=n.getAttribute("data-lang"),a=function(e){var n;switch(e){case"csharp":case"dotnet":n="C#";break;case"javascript":n="JavaScript";break;case"mutate":case"stats":case"stream":case"train":case"write":n=t(e)+" mode";break;case"macos":n="macOS";break;default:n=t(e.replaceAll("-"," "))}return n}(o),s=e("li","tabbed-tab",[document.createTextNode(a)]);return n.dataset.title=a,n.dataset.lang=o,s.dataset.title=a,s.dataset.lang=o,o===p&&s.classList.add(r),s.addEventListener("click",i),s})),y=!1;if(u.forEach((function(e){h.appendChild(e),e.classList.add("tabbed-target"),e.getAttribute("data-lang")===p&&(e.classList.add("tabbed-target--active"),y=!0)})),!y){var v=u[0].getAttribute("data-lang"),g=0;u.forEach((function(e){e.getAttribute("data-lang")===v&&(e.classList.add("tabbed-target--active"),m[g].classList.add("tabbed-tab--active")),g++}))}f.insertBefore(e("ul","tabbed-tabs",m),h),l.removeChild(c)}})),(l=(f=window.location.hash)&&(~f.indexOf("%")?decodeURIComponent(f):f).slice(1))&&(u=document.getElementById(l))&&(d=u.getAttribute("data-lang"))&&(h=u.closest(".tabbed").querySelector(`[data-lang=${d}]`))&&i({target:h})}));var $r=Ur(Object.freeze({__proto__:null,getCookie:function(e){const t=new RegExp(`${e}=[^;]+;`),n=document.cookie.match(t);if(n)return n[0].split("=")[1].trim().replace(";","")}}));const{getCookie:Yr}=$r;function Vr(e,t){var n=1,r=setInterval((function(){n<=.1&&(clearInterval(r),e.style.display="none",e.style.opacity=null),e.style.opacity=n,e.style.filter="alpha(opacity="+100*n+")",n-=.1*n}),t);document.documentElement.style.setProperty("--feedback-height","0rem")}var Gr;!function(){!function(){var e=Yr("CookieConsent");if(null!=e&&-1!==e.indexOf("statistics:true")){var t=JSON.parse(localStorage.getItem("userJourney"));null==t&&(t=[]),t.push({url:window.location.href,title:document.title,landTime:Math.round(Date.now()/1e3)}),localStorage.setItem("userJourney",JSON.stringify(t))}}();var e=document.querySelector(".feedback");if(e){var t=e.innerHTML,n=function(e){const t=Yr("neo_identity"),n=Yr("_gid"),r=Yr("_uetsid");var o=document.querySelector('meta[property="neo:product"]'),i=o?o.getAttribute("content").toLowerCase().replace(/[^a-z0-9]+/g,"-"):document.querySelector("body").className.replace("article ","").split(" ")[0],a="project="+encodeURIComponent(i);a+="&url="+encodeURIComponent(window.location.href),t&&(a+="&identity="+t),n&&(a+="&gid="+n),r&&(a+="&uetsid="+r);for(const[t,n]of Object.entries(e))a+="&"+t+"="+encodeURIComponent(n);var s=localStorage.getItem("userJourney");null!=s&&JSON.parse(s).length>1&&(a+="&userJourney="+encodeURIComponent(s)),fetch("https://uglfznxroe.execute-api.us-east-1.amazonaws.com/dev/Feedback",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a}),localStorage.removeItem("userJourney")},r=function(){e.classList.remove("negative"),e.classList.remove("positive"),e.innerHTML=t,e.style.height="var(--feedback-height)";var o=e.querySelector(".yes"),i=e.querySelector(".no");o.addEventListener("click",(function(t){t.preventDefault(),e.classList.add("positive"),e.style.height=null,e.innerHTML='<form class="form">\n      <div class="header">\n        <p><strong>Thank you! Would you like to share some feedback?</strong></p>\n        <svg width="14px" height="22px" viewBox="0 0 22 22" role="button" class="cancel" aria-label="Cancel Feedback">\n          <line x1="19.5833333" y1="0.416666667" x2="0.416666667" y2="19.5833333"></line>\n          <line x1="19.5833333" y1="19.5833333" x2="0.416666667" y2="0.416666667"></line>\n        </svg>\n      </div>\n      <div class="more-information">\n        <label for="more-information"><strong>More information</strong> (optional)</label>\n        <textarea id="more-information" type="text" rows="3" cols="50" name="more-information" style="resize:none"></textarea>\n      </div>\n      <div class="buttons">\n        <input type="button" class="primary" data-submit="submit" value="Submit feedback">\n        \x3c!--<input type="button" class="secondary" data-submit="skip" value="Skip">--\x3e\n      </div>\n    </form>\n    ',e.querySelector(".cancel").addEventListener("click",(function(t){t.preventDefault(),n({helpful:!0}),setTimeout((()=>{Vr(e,50)}),0),window.mixpanel&&window.mixpanel.track("DOCS_FEEDBACK_POSITIVE",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash})})),e.querySelector(".primary").addEventListener("click",(function(t){t.preventDefault();var r=e.querySelector('textarea[name="more-information"]').value;n({helpful:!0,moreInformation:r}),e.innerHTML='<div class="header thank-you-positive"><p><strong>Thank you for your feedback!</strong></p></div>',setTimeout((()=>{Vr(e,50)}),2e3),window.mixpanel&&window.mixpanel.track("DOCS_FEEDBACK_POSITIVE",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash})}))})),i.addEventListener("click",(function(t){t.preventDefault(),e.classList.add("negative"),e.style.height=null,e.innerHTML='<form class="form">\n      <div class="header">\n        <p><strong>How is this page unhelpful?</strong></p>\n        <svg width="14px" height="22px" viewBox="0 0 22 22" role="button" class="cancel" aria-label="Cancel Feedback">\n          <line x1="19.5833333" y1="0.416666667" x2="0.416666667" y2="19.5833333"></line>\n          <line x1="19.5833333" y1="19.5833333" x2="0.416666667" y2="0.416666667"></line>\n        </svg>\n      </div>\n      <div>\n        <input id="missing" type="radio" class="feedback-option" data-reason="missing" name="specific" value="missing" checked="true"><label\n          for="missing">Missing information</label>\n      </div>\n      <div>\n        <input id="hard-to-follow" type="radio" class="feedback-option" data-reason="hard-to-follow" name="specific" value="hard-to-follow">\n        <label for="hard-to-follow">Hard to follow or confusing</label>\n      </div>\n      <div>\n        <input id="inaccurate" type="radio" class="feedback-option" data-reason="inaccurate" name="specific" value="inaccurate">\n        <label for="inaccurate">Inaccurate, out of date, or doesn&rsquo;t work</label>\n      </div>\n      <div><input id="other" type="radio" class="feedback-option" data-reason="other" name="specific" value="other"><label for="other">Something else\n          </label></div>\n      <div class="more-information"><label for="more-information"><strong>More information *</strong></label><textarea\n          id="more-information" type="text" rows="3" cols="50" name="more-information" style="resize:none"></textarea>\n      </div>\n      <div class="buttons"><input type="button" class="primary" data-submit="submit" value="Submit feedback"></div>\n      </div>\n    </form>\n    ',e.querySelector(".cancel").addEventListener("click",(function(e){e.preventDefault(),window.mixpanel&&window.mixpanel.track("DOCS_FEEDBACK_NEGATIVE",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash}),r()})),e.querySelector(".primary").addEventListener("click",(function(t){var r=e.querySelector('textarea[name="more-information"]');if(""===r.value){if(e.querySelector('p[class="error"]'))return;const t=document.createElement("p");return t.classList.add("error"),t.innerHTML="Please elaborate on your feedback.",void e.querySelector('div[class="more-information"]').insertAdjacentElement("afterend",t)}t.preventDefault();var o=e.querySelector('input[name="specific"]:checked');n({helpful:!1,reason:o.value,moreInformation:r.value}),e.innerHTML='<div class="header thank-you-positive">\n      <p><strong>Thank you!</strong></p>\n      <p>We will consider your feedback while updating our documentation.</p>\n    ',e.classList.remove("negative"),e.classList.add("positive"),setTimeout((()=>{Vr(e,50)}),2e3),window.mixpanel&&window.mixpanel.track("DOCS_FEEDBACK_POSITIVE",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash})}))}))};window.addEventListener("scroll",(function(t){window.scrollY+window.innerHeight>document.getElementsByTagName("footer")[0].offsetTop?e.classList.add("absolute"):e.classList.remove("absolute")})),r()}}(),function(){var e=document.querySelector("article.doc"),t=document.querySelector("body.cheat-sheet"),n=document.querySelector(".toolbar"),r=document.querySelector("header > .navbar");function o(e){return e&&(~e.indexOf("%")?decodeURIComponent(e):e).slice(1)}function i(t,n){return e.contains(t)?i(t.offsetParent,t.offsetTop+n):n}function a(e){e&&(window.location.hash="#"+this.id,e.preventDefault());var o,a=n?n.getBoundingClientRect().bottom:r.getBoundingClientRect().bottom,s=this;if((o=s.closest(".tabbed"))&&(s=o),t){var c=this.closest("div"),l=document.querySelector(".nav-container .selectors").querySelector("div").getBoundingClientRect().top;"H3"===this.tagName&&(a=l),window.scrollTo(0,i(c,0)-(a+20))}else window.scrollTo(0,i(s,0)-(a+20))}window.addEventListener("load",(function e(t){var n,r;(n=o(window.location.hash))&&(r=document.getElementById(n))&&(a.bind(r)(),setTimeout(a.bind(r),0)),window.removeEventListener("load",e)})),Array.prototype.slice.call(document.querySelectorAll('a[href^="#"]')).forEach((function(e){var t,n;(t=o(e.hash))&&(n=document.getElementById(t))&&e.addEventListener("click",a.bind(n))}))}(),function(){const e=/neo4j\.[com|dev]/g;document.querySelectorAll('.doc a[href^="http"], .doc a[target="_blank"]').forEach((function(t){document.location.hostname===t.hostname||t.hostname.match(e)||t.classList.add("external"),"_blank"===t.target&&t.setAttribute("aria-label","Link label (opens in new tab)")}))}(),(Gr=document.getElementById("kb-search-button"))&&window.neo4jSearch&&("function"==typeof window.neo4jSearch.updateContext&&window.neo4jSearch.updateContext({name:"kb",postTypes:["Knowledge Base"]}),Gr.addEventListener("click",(function(e){e.stopPropagation(),"function"==typeof window.neo4jSearch.openSearch&&window.neo4jSearch.openSearch()}))),document.addEventListener("DOMContentLoaded",(function(){if(!window.mixpanel)return;const e=new Date,t=()=>{const n=document.querySelector("footer.footer").getBoundingClientRect();document.querySelector("body").classList.add("read"),n.top<=(window.innerHeight||document.documentElement.clientHeight)&&(window.mixpanel.track("DOCS_PAGE_READ",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,ms:Math.abs(new Date-e)}),document.removeEventListener("scroll",t))};document.addEventListener("scroll",t)})),"undefined"!=typeof WebAuth&&function(e){var t="https://pysadbr27c.execute-api.us-east-1.amazonaws.com",n=window.location,r=n.href,o=new e({clientID:"hoNo6B00ckfAoFVzPTqzgBIJHFHDnHYu",domain:"login.neo4j.com",redirectUri:"localhost"===n.hostname?n.origin+"/accounts/callback":n.origin+"/accounts/login",audience:"neo4j://accountinfo/",scope:"read:account-info openid email profile user_metadata",responseType:"token id_token"});window.GraphAcademy={logout:function(){window.location="http://neo4j.com/accounts/login-b/?targetUrl="+encodeURI(r)},login:function(e,t){try{o.checkSession({},(function(n,r){n?t(n):e(r)}))}catch(e){t(e)}},getQuizStatus:function(e,n,r,o){Hr(t+"/getQuizStatus?className="+e,n,r,o)},setQuizStatus:function(e,n,r,o,i,a){Rr(t+"/setQuizStatus",{className:e,passed:n,failed:r},o,i,a)},getClassCertificate:function(e,n,r,o){Rr(t+"/genClassCertificate",{className:e},n,r,o)},getEnrollmentForClass:function(e,n,r,o){Hr(t+"/getClassEnrollment?className="+e,n,r,o)},enrollStudentInClass:function(e,n,r,o,i,a){Rr(t+"/setClassEnrollment",{className:e,firstName:n,lastName:r},o,i,a)}}}(WebAuth),document.addEventListener("DOMContentLoaded",(function(){const e=window.location.href,t=document.querySelector("body.training-enrollment");if(t&&t.dataset&&t.dataset.courseName){const n=t.dataset.courseName;function r(e){e||(e="Error while loading the data, please refresh the page."),i.dataset.status="error";i.querySelector(".error > p").innerHTML=e}let o;t.querySelectorAll('[data-action="logout"]').forEach((function(t){t.onclick=function(t){t.preventDefault(),window.location="https://neo4j.com/accounts/logout/?targetUrl="+encodeURIComponent(e)}})),t.querySelectorAll('[data-action="signin"]').forEach((function(t){t.onclick=function(t){t.preventDefault(),window.location="https://neo4j.com/accounts/login-b/?targetUrl="+encodeURIComponent(e)}})),t.querySelectorAll('[data-action="course-continue"]').forEach((function(e){e.onclick=function(t){t.preventDefault(),e.dataset&&e.dataset.courseUrl&&(window.location=e.dataset.courseUrl)}}));const i=document.querySelector(".course-actions"),a=document.querySelector('.course-actions .course-state[data-state="unauthenticated"]'),s=document.querySelector('.course-actions .course-state[data-state="authenticated"]'),c=document.querySelector('.course-actions .course-state[data-state="enrolled"]');n&&GraphAcademy.login((function(e){if(e&&e.accessToken&&e.idTokenPayload){o=e.accessToken;const t=e.idTokenPayload;"undefined"!=typeof MktoForms2&&MktoForms2.whenReady((function(e){e.vals({FirstName:t.given_name,LastName:t.family_name,Email:t.email})})),GraphAcademy.getEnrollmentForClass(n,o,(function(e){if(e.enrolled)console.log("Student is enrolled, showing a continue button"),a.classList.add("is-hidden"),s.classList.add("is-hidden");else{a.classList.add("is-hidden"),c.classList.add("is-hidden");const e=1422,t="mktoForm_"+e,s=document.getElementById(t);if(s&&s.dataset&&"true"===s.dataset.disabled)return void r("You cannot enroll in this course.");s&&"undefined"!=typeof MktoForms2?(console.log("Student is not enrolled, showing a form to enroll"),MktoForms2.loadForm("//go.neo4j.com","710-RRC-335",e,(function(e){const a=document.getElementById("LblLastName").parentElement.parentElement.parentElement,s=document.createElement("p");s.classList.add("help"),s.innerText="Name above used to generate Certificate of Completion",a.insertAdjacentElement("afterend",s);document.querySelector("#"+t+' .mktoButton[type="submit"]').innerHTML="Enroll in Course",e.onSuccess((function(e,a){return i.dataset.status="loading",GraphAcademy.enrollStudentInClass(n,e.FirstName,e.LastName,o,(function(e){console.log("Successfully enrolled the student",e);const n=document.getElementById(t);n&&n.dataset&&n.dataset.courseUrl?window.location=n.dataset.courseUrl:r("<strong>Sorry, something has gone wrong.</strong> We were unable to proceed, please refresh the page.")}),(function(e){console.log("Unable to enroll the student",e),r("<strong>Sorry, something has gone wrong.</strong> Please refresh the page and try again.")})),!1}))}))):r("<strong>Sorry, something has gone wrong.</strong> Some browser features like Firefox's Enhanced Tracking Protection prevent the training from working properly.<br/>Please try a different browser or turn of ETP.")}i.dataset.status="loaded"}),(function(e){console.log("Unable to get enrollment for the student",e),r()}))}else console.log("Invalid response from Auth0, unable to proceed",e),r()}),(function(e){console.info("Unable to authenticate the user or the user is not authenticated",e),s.classList.add("is-hidden"),c.classList.add("is-hidden"),i.dataset.status="loaded"}))}})),document.addEventListener("DOMContentLoaded",(function(){var e,t,n,r,o=document.querySelector("body.training");o&&o&&o.dataset.slug&&(e=o.dataset.slug),o&&o&&o.dataset.enrollmentUrl&&(t=o.dataset.enrollmentUrl),o&&o.dataset&&o.dataset.courseName&&(n=o.dataset.courseName,r="com.neo4j.graphacademy."+n+".quizStatus");var i=document.querySelector('[data-action="grade-quiz"]');function a(e){for(var t=document.querySelectorAll(".nav-item[data-slug]"),n=0;n<t.length;n++){var r=t[n],o=r.dataset.slug;r.classList.remove("is-pending","is-completed"),e.passed.includes(o)?r.classList.add("is-completed"):e.untried.includes(o)&&r.classList.add("is-pending")}}function s(e){for(var t=e.parentElement;null!==t&&1===t.nodeType;){if(t.classList.contains("checklist")&&t.classList.contains("answers"))for(var n=t.previousElementSibling;null!==n&&1===t.nodeType;){if("H3"===n.nodeName)return n;n=n.previousElementSibling}t=t.parentElement}}if(n&&e&&t&&r){var c,l,u=window.localStorage.getItem(r);a(c=u?JSON.parse(u):{failed:[],passed:[],untried:[]}),document.querySelectorAll('.checklist.answers input[data-item-complete="1"]').forEach((function(e){e.checked=!1})),GraphAcademy.login((function(t){l=t,GraphAcademy.getQuizStatus(n,l.accessToken,(function(t){c=t.quizStatus,window.localStorage.setItem(r,JSON.stringify(c)),a(c),function(t){t&&t.passed&&-1!==t.passed.indexOf(e)&&(i.style.visibility="hidden",document.querySelectorAll(".checklist.answers input").forEach((function(e){e.checked="1"===e.dataset.itemComplete})))}(c)}),(function(e){console.log("Unable to get quiz status",e)}))}),(function(e){console.log("Unable to authenticate the user or the user is not authenticated",e),console.log("Redirecting to the enrollment page..."),window.location.href=t}));var d=document.querySelector(".download-certificate"),h=document.querySelector('[data-action="download-certificate-link"]');d&&document.querySelectorAll('[data-action="download-certificate"]').forEach((function(e){e.onclick=function(e){e.preventDefault(),d.dataset.status="loading";try{GraphAcademy.getClassCertificate(n,l.accessToken,(function(e){e.url?(d.dataset.status="success",h.href=e.url,window.open(e.url)):(console.log("Unable to get the certificate, the URL is missing from the response"),d.dataset.status="error")}),(function(e){console.log("Unable to get the certificate",e),d.dataset.status="error"}))}catch(e){d.dataset.status="error"}}})),i&&(i.onclick=function(t){t.preventDefault();var o=document.getElementById("quiz-result");o||((o=document.createElement("div")).id="quiz-result",i.insertAdjacentElement("afterend",o)),o.classList.remove("is-error","is-success"),function(e){if(c&&c.passed&&-1!==c.passed.indexOf(e))return!0;for(var t=document.querySelectorAll(".quiz h3"),n=0;n<t.length;n++)t[n].style.color="#4a5568";for(var r=document.querySelectorAll(".checklist.answers input"),o=!0,i=0;i<r.length;i++){var a=r[i],l="1"===a.dataset.itemComplete;if(l&&!a.checked||!l&&a.checked){var u=s(a);u&&(u.style.color="#e53e3e"),o=!1}}if(o&&c&&c.passed){c.passed.push(e);var d=c.untried.indexOf(e);-1!==d&&c.untried.splice(d,1)}return o}(e)?(o.classList.add("is-success"),o.innerHTML='<p class="paragraph"><strong>All good!</strong> you can advance to next section.</p>'):(o.classList.add("is-error"),o.innerHTML='<p class="paragraph"><strong>Please correct errors</strong> in quiz responses above to continue. Questions with incorrect responses are highlighted in <i>red</i>.</p>'),a(c);var u=c.passed,d=c.failed;GraphAcademy.setQuizStatus(n,u,d,l.accessToken,(function(){window.localStorage.setItem(r,JSON.stringify(c))}),(function(e){console.error("Unable to update quiz status",e)}))})}})),document.addEventListener("DOMContentLoaded",(function(){const e=window.location.href,t=document.querySelector("body.training-certification");let n;if(t&&t.dataset&&t.dataset.certificationId){function r(e){e||(e="Error while loading the data, please refresh the page."),a.dataset.status="error";a.querySelector(".error > p").innerHTML=e}let o,i;n=t.dataset.certificationId,t.querySelectorAll('[data-action="logout"]').forEach((function(t){t.onclick=function(t){t.preventDefault(),window.location="https://neo4j.com/accounts/logout/?targetUrl="+encodeURIComponent(e)}})),t.querySelectorAll('[data-action="signin"]').forEach((function(t){t.onclick=function(t){t.preventDefault(),window.location="https://neo4j.com/accounts/login-b/?targetUrl="+encodeURIComponent(e)}})),t.querySelectorAll('[data-action="course-continue"]').forEach((function(e){e.onclick=function(e){e.preventDefault(),n&&i&&(window.location="https://www.classmarker.com/online-test/start/?quiz="+n+"&cm_user_id=auth0|"+o+"&cm_fn="+i.given_name+"&cm_ln="+i.family_name+"&cm_e"+i.email)}}));const a=document.querySelector(".course-actions"),s=document.querySelector('.course-actions .course-state[data-state="unauthenticated"]'),c=document.querySelector('.course-actions .course-state[data-state="authenticated"]'),l=document.querySelector('.course-actions .course-state[data-state="enrolled"]');n&&GraphAcademy.login((function(e){if(e&&e.accessToken&&e.idTokenPayload){o=e.accessToken,i=e.idTokenPayload,"undefined"!=typeof MktoForms2&&MktoForms2.whenReady((function(e){e.vals({FirstName:i.given_name,LastName:i.family_name,Email:i.email})})),s.classList.add("is-hidden"),l.classList.add("is-hidden");const t=1255,c="mktoForm_"+t,u=document.getElementById(c);if(u&&u.dataset&&"true"===u.dataset.disabled)return void r("You cannot enroll in this course.");if(u&&"undefined"!=typeof MktoForms2){const e=function(e,t,n){setTimeout((function(){window.location="https://www.classmarker.com/online-test/start/?quiz="+e+"&cm_user_id="+n.sub+"&cm_fn="+t.FirstName+"&cm_ln="+t.LastName+"&cm_e"+t.Email}),300)};MktoForms2.loadForm("//go.neo4j.com","710-RRC-335",t,(function(t){const r=document.getElementById("LblLastName").parentElement.parentElement.parentElement,o=document.createElement("p");o.classList.add("help"),o.innerText="Name above used to generate Certificate of Completion",r.insertAdjacentElement("afterend",o);document.querySelector("#"+c+' .mktoButton[type="submit"]').innerHTML="Get Certified",t.onSuccess((function(t,r){e(n,t,i)}))}))}a.dataset.status="loaded"}else console.log("Invalid response from Auth0, unable to proceed",e),r()}),(function(e){console.log("Unable to authenticate the user or the user is not authenticated",e),c.classList.add("is-hidden"),l.classList.add("is-hidden"),a.dataset.status="loaded"}))}})),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("yelp-dataset-agreement"),t=document.getElementById("yelp-create-sandbox-link");if(e&&t){var n="";if(void 0!==window.localStorage&&"function"==typeof window.localStorage.getItem&&(n=window.localStorage.getItem("neo4j.yelp-agreement")),"read-agreed"===n)e.style.display="none";else{var r=t.getAttribute("href");t.setAttribute("href","javascript:void(0)"),t.setAttribute("target","_self"),t.classList.remove("external");var o=function(){var t=e.getBoundingClientRect().top+window.pageYOffset-140;window.scrollTo({top:t,behavior:"smooth"}),e.classList.add("has-focus"),setTimeout((function(){e.classList.remove("has-focus")}),2e3)};t.addEventListener("click",o);var i=document.createElement("input");i.type="checkbox",i.id="yelp-dataset-agreement-check";var a=document.createElement("label");a.innerHTML="&nbsp;I have read and agree to the Dataset License",a.setAttribute("for","yelp-dataset-agreement-check");var s=document.createElement("button");s.type="button",s.classList.add("button"),s.innerText="Continue",s.addEventListener("click",(function(n){i.checked&&(void 0!==window.localStorage&&"function"==typeof window.localStorage.setItem&&window.localStorage.setItem("neo4j.yelp-agreement","read-agreed"),t.removeEventListener("click",o),t.setAttribute("target","_blank"),t.setAttribute("href",r),t.classList.add("external"),e.style.display="none")}));var c=document.createElement("p");c.appendChild(i),c.appendChild(a),c.appendChild(s),e.appendChild(c)}}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("neo4j-browser-connection-url"),t=document.getElementById("neo4j-browser-open-link");if(e&&t&&t.dataset&&t.dataset.browserGuideUrl){const n=t.dataset.browserGuideUrl,r=new URLSearchParams(window.location.search).get("dbms");e.value=r||"bolt://localhost",t.addEventListener("click",(()=>{const r=e.value,o=new URLSearchParams({cmd:"play",arg:n,dbms:r});return t.href=`https://browser.neo4j.io/?${o.toString()}`,!1}))}})),document.addEventListener("DOMContentLoaded",(function(){setTimeout((()=>{document.querySelectorAll(".arrange").forEach((t=>{const n=t.querySelector("pre"),r=n.querySelector("code"),o=i(r.innerText),a=e=>{e.preventDefault(),s(e.target,!0)},s=(n,r)=>{const s=t.querySelector("pre code"),c=t.querySelector(".arrange-options ul");s.removeChild(n),n.nodeType===Node.TEXT_NODE?n=e("span","text-node",[document.createTextNode(` ${n.textContent} `)]):n.classList.contains("hljs-number")&&(n.innerHTML=" "+n.innerHTML+" "),window.mixpanel&&r&&window.mixpanel.track("DOCS_ARRANGE_CODE_REMOVE",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,segment:n.innerHTML,code:i(s.innerHTML),original:o}),n.removeEventListener("click",a);const l=e("li","arrange-option",[n]);l.addEventListener("click",(e=>{e.preventDefault(),((e,n)=>{const r=t.querySelector(".arrange-options ul"),s=t.querySelector("pre code"),c=e.children[0].cloneNode(!0);s.appendChild(c),r.removeChild(e),c.addEventListener("click",a),window.mixpanel&&n&&window.mixpanel.track("DOCS_ARRANGE_CODE_ADD",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,segment:c.innerHTML,code:i(s.innerHTML),original:o})})(l,!0)})),c.appendChild(l)},c=e("ul","",[]),l=e("div","arrange-options",[e("p","arrange-message",[document.createTextNode("Choose from the options below to complete the query:")]),c]);n.parentElement.prepend(l);const u=Array.from(r.childNodes).filter((e=>e.children>0||""!==e.textContent.trim()));u.sort((()=>Math.random()<.5?-1:1)),u.map((e=>s(e)));Fr(t,"Run Query",(({cypher:e,results:t})=>{window.mixpanel&&window.mixpanel.track("DOCS_ARRANGE_CODE_COMPLETED",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,code:e,results:t.records.length})}),(({cypher:e,error:t})=>{window.mixpanel&&window.mixpanel.track("DOCS_ARRANGE_CODE_ERROR",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,code:e,error:t.message})}))}))}),200)}));const Xr=document.querySelectorAll("[id^=cheat-sheet-selector-] option"),Wr=[...Xr].map((e=>({value:e.value,text:e.dataset.label,class:e.dataset.class,labelType:e.dataset.labelType,default:e.dataset.defaultValue,labelOnly:e.hidden,selected:e.selected,inScope:!0}))),Jr={"auradb-free":"aura-dbf","auradb-professional":"aura-dbp","auradb-dedicated":"aura-dbe","auradb-critical":"aura-dbc","aurads-professional":"aura-dsp","aurads-enterprise":"aura-dse","neo4j-community":"neo4j-ce","neo4j-enterprise":"neo4j-ee"},Qr=Wr.find((e=>"true"===e.default));let Kr;Kr=Qr&&Wr?Qr?Qr.value:Wr[0].value:"all";const Zr=["exampleblock","sect2","sect1"];function eo(e,t=!1){["hidden","hide-this","selectors-match"].forEach((e=>{document.querySelectorAll(`.toc-menu .${e}, .content .sect1.${e}, .content .sect2.${e}, .content .exampleblock.${e}`).forEach((t=>{t.classList.remove(e)}))})),function(e){const t=[...document.querySelectorAll(".cs-selector option:checked")].filter((function(e){return e.value})).map((e=>({value:e.value,type:e.dataset.labelType})));document.querySelectorAll("div.sect2:not(.cs-all), div.exampleblock:not(.cs-all)").forEach((n=>{const r=ro([...n.classList]);let o=!0;t.forEach((e=>{const t=[...new Set(Wr.filter((function(t){return t.labelType===e.type&&"all"!==t.value&&t.inScope})).map((e=>e.value)))],n=[...new Set(Wr.filter((function(t){return t.labelType===e.type&&"all"!==t.value&&!t.inScope})).map((e=>e.value)))];t.some((e=>r.includes(e)))&&!r.includes(e.value)&&"all"!==e.value&&(o=!1),!t.some((e=>r.includes(e)))&&n.some((e=>r.includes(e)))&&(o=!1)})),o?n.classList.add("selectors-match"):(n.classList.add("hidden"),n.classList.remove("selectors-match")),e.some((e=>r.includes(e)))?n.classList.add("label-match"):n.classList.remove("label-match")})),document.querySelectorAll(".selectors-match .sect2:not(.hidden), .selectors-match .exampleblock:not(.hidden)").forEach((e=>{e.classList.add("selectors-match")})),document.querySelectorAll(".label-match .sect2, .label-match .exampleblock").forEach((e=>{e.classList.add("label-match")})),document.querySelectorAll("div.exampleblock.selectors-match").forEach((e=>{e.closest(".sect2").classList.add("selectors-match")})),document.querySelectorAll("div.sect2.selectors-match").forEach((e=>{e.closest(".sect1").classList.add("selectors-match")})),document.querySelectorAll("div.exampleblock:not(.selectors-match), div.sect2:not(.selectors-match), div.sect1:not(.selectors-match)").forEach((e=>{e.classList.contains("label-match")||e.classList.add("hidden")}))}(e),document.querySelectorAll("div.sect1.hidden, div.sect1.hidden div.sect2, div.sect2.hidden").forEach((e=>{const t=e.firstElementChild.id,n=document.querySelector(`.toc-menu a[href="#${t}"]`);n&&n.closest("li").classList.toggle("hidden")})),oo(t),document.querySelector("body.cheat-sheet").style.opacity="1"}document.addEventListener("DOMContentLoaded",(function(){if(!document.querySelector("body.cheat-sheet"))return;const t=function(){const e=window.location;let t=e.href;const n=to(e.pathname).split("/");""===n[0]&&n.shift();const r=n.slice(n.indexOf("cypher-cheat-sheet"));r.shift(),r.length=3;let o=r[1],i=r[2],a="";if(!o)return;i&&(a=no(i));if(!Object.keys(Jr).includes(o)){const e=new RegExp(`/${o}/?`);t=t.replace(e,`/${Kr}/`),i=o,o=Kr,a=no(i),a&&(window.location.hash="#"+a,t=t+"#"+a)}if(a&&Object.keys(Jr).includes(o)){window.location.hash="#"+a;const e=new RegExp(`/${i}/?`);t=to(t).replace(e,`/#${a}`)}t!==e.href&&window.location.replace(t);if("all"===o)return o;return Jr[o]}(),n=document.location;t&&(function(e){const t=document.getElementById("cheat-sheet-selector-products"),n=t.options;for(const r of n)r.label!==decodeURIComponent(e)&&r.value!==decodeURIComponent(e)||(t.selectedIndex=r.index)}(t),function(e,t){const n=document.querySelector('meta[property="og:description"]'),r=document.querySelector('meta[property="og:title"]'),o=document.querySelector('meta[property="og:url"]'),i="Cypher Cheat Sheet - "+io(e);o.setAttribute("content",t),n.setAttribute("content",i),r.setAttribute("content",i),document.title=i}(t,n));const r=document.location.search,o=new URLSearchParams(r);if(o.has("sid")){const e=no(o.get("sid"));e&&(document.location.hash=e),document.location.replace(document.location.href.replace(document.location.search,""))}const i=document.querySelector("#products-highlight");i&&i.addEventListener("click",(function(e){e.stopPropagation(),oo(e.target.checked)}));const a=[...Xr].reduce((function(e,t){return e.push(t.value),e}),[]).sort(),s=[...Xr].reduce((function(e,t){return t.hidden&&e.push(t.value),e}),[]).sort();document.querySelectorAll(Zr.map((e=>"."+e))).forEach((t=>{if(t.classList.contains("hidden"))return;const n=ro([...t.classList]);let r=a.filter((function(e){return-1!==n.indexOf(e)})).sort();if(0!==n.length&&0===r.length)return void n.forEach((e=>{-1===s.indexOf(e)&&Object.values(Jr).includes(e)&&(s.push(e),Wr.push({value:e,text:e,class:e,labelType:"products",inScope:!1}))}));const o=Object.values(Jr);let i=!0;const c=o.filter((e=>!r.includes(e)));c&&c.length<=2&&(r=c,i=!1),r&&r.length>0&&r.forEach((n=>{"all"!==n&&function(t,n,r){const o=e("div","paragraph");let i="labels";const a=[...new Set(Wr.filter((function(e){return e.value===n})).map((e=>e.labelType)))];let s=!0;if(t.classList.contains("exampleblock")){if(t.closest(".sect2").classList.contains(n))return;o.classList.add("labels"),s=!1}else{if(t.classList.contains("sect2")&&t.closest(".sect1").classList.contains(n))return;o.classList.add("page-labels"),i="page-labels"}const c=e("p"),l=e("span",`label label--${n} group--${a}`);let u=io(n);r||(u="Not available on "+u,l.classList.add("not-available"));l.textContent=u,c.appendChild(l);const d="labels"===i?t.firstElementChild.querySelector(`div.${i}`):t.querySelector(`div.${i}`);d?d.append(c):(o.appendChild(c),"labels"===i?t.firstElementChild.prepend(o):t.firstElementChild.after(o));s&&t.querySelectorAll(".sect2, .exampleblock").forEach((e=>{e.classList.add(n)}))}(t,n,i)}))})),document.querySelectorAll(".toc-menu a").forEach((e=>{null===document.querySelector(e.hash)&&e.remove()})),document.querySelectorAll("span.label").forEach((e=>{const t=[...e.classList].filter((e=>e.startsWith("label--"))).toString().replace("label--","").trim();a.includes(t)||e.remove()}));const c=document.querySelector("#cheat-sheet-selector-products");c.dataset.current=c.options[c.selectedIndex].value;var l=document.querySelector("body.cheat-sheet .version-selector");c.addEventListener("change",(function(e){if(e.stopPropagation(),-1!==n.host.indexOf("localhost"))return void eo(s,"all"===e.target.value);const r="all"===e.target.dataset.current?"all":Object.keys(Jr).find((t=>Jr[t]===e.target.dataset.current)),o="all"===e.target.value?"all":Object.keys(Jr).find((t=>Jr[t]===e.target.value)),i=new RegExp(`/${r}`);let a;a=t?o?n.href.replace(i,`/${o}`):n.href.replace(i,""):n.href.split("#")[0].concat(o).concat(n.hash),a&&document.location.replace(a)})),l&&l.addEventListener("change",(function(e){const t=e.target.dataset.current,n=e.target.selectedOptions[0].dataset.version,r=new RegExp(`/${t}/`),o=document.URL.replace(r,`/${n}/`);window.ga&&window.ga("send","event","version-select","From: "+t+";To:"+n+";"),document.location.replace(o)})),eo(s,"all"===c.dataset.current);const u=parseFloat(document.querySelector(".nav-container .selectors").getBoundingClientRect().height),d=document.querySelector("article h2");d.style.height=`${u}px`,d.style.margin=0,d.style.lineHeight=`${u}px`,document.querySelectorAll("article h2").forEach((e=>{e.style.height=`${u}px`,e.style.margin=0,e.style.lineHeight=`${u}px`}))}));const to=e=>e.endsWith("/")?e.slice(0,-1):e;function no(e){const t=[e,"_"+e.replace(/-/g,"_")].filter((function(e){return document.getElementById(e)}));if(t)return t[0]}function ro(e){return e.filter((function(e){return-1===Zr.indexOf(e)})).sort()}function oo(e){document.querySelectorAll("span.group--products").forEach((t=>{t.style.display=e?"flex":"none"}))}function io(e){return Wr.find((t=>t.value===e)).text}var ao={featured:{description:"Featured cards",labelCategory:"content",displayText:"NEW"},labs:{description:"Neo4j Labs project",labelCategory:"content",product:"Labs",displayText:"Labs"},"labs-label":{description:"Neo4j Labs project label",labelCategory:"content",product:"Labs",displayText:"Labs"},"graph-academy":{description:"Neo4j Graph Academy",labelCategory:"content",product:"Graph Academy",displayText:"Graph Academy"},enterprise:{description:"Function available in Enterprise Edition only",labelCategory:"product",product:"Enterprise Edition",displayText:"Enterprise Edition"},"enterprise-edition":{description:"Function available in Enterprise Edition only",labelCategory:"product",product:"Enterprise Edition",displayText:"Enterprise Edition"},"enterprise-only":{description:"Function available in Enterprise Edition only",labelCategory:"product",product:"Enterprise Edition",displayText:"Enterprise Only"},free:{description:"Function available in Free version only",labelCategory:"product",product:"AuraDB Free",displayText:"Free"},full:{description:"Function available in Enterprise Edition only",labelCategory:"product",product:"Enterprise Edition",displayText:"Full"},professional:{description:"Function or feature is available on AuraDB Professional",labelCategory:"product",product:"AuraDB Professional",displayText:"Only available on AuraDB Professional"},"aura-db-free":{description:"Function available in AuraDB Free",labelCategory:"product",product:"AuraDB Free",displayText:"AuraDB Free"},"aura-db-enterprise":{description:"Function available in AuraDB Virtual Dedicated Cloud",labelCategory:"product",product:"AuraDB Virtual Dedicated Cloud",displayText:"AuraDB Virtual Dedicated Cloud"},"aura-db-business-critical":{description:"Function available in AuraDB Business Critical",labelCategory:"product",product:"AuraDB Business Critical",displayText:"AuraDB Business Critical"},"aura-db-dedicated":{description:"Function available in AuraDB Virtual Dedicated Cloud",labelCategory:"product",product:"AuraDB Virtual Dedicated Cloud",displayText:"AuraDB Virtual Dedicated Cloud"},"aura-db-professional":{description:"Function available in AuraDB Professional",labelCategory:"product",product:"AuraDB Professional",displayText:"AuraDB Professional"},"aura-ds-enterprise":{description:"Function available in AuraDS Enterprise",labelCategory:"product",product:"AuraDS Enterprise",displayText:"AuraDS Enterprise"},"aura-ds-professional":{description:"Function available in AuraDS Professional",labelCategory:"product",product:"AuraDS Professional",displayText:"AuraDS Professional"},"not-on-aura":{description:"Function or feature is not available on Aura",labelCategory:"product",product:"Aura",displayText:"Not available on Aura"},aura:{description:"Function or feature is available on Aura",labelCategory:"product",product:"Aura",displayText:"Available on Aura"},"aura-only":{description:"Function or feature is available on Aura only",labelCategory:"product",product:"Aura",displayText:"Only available on Aura"},new:{description:"The feature or function was added in the version stated",labelCategory:"version",displayText:"Introduced",altDisplayText:"Added"},added:{description:"The feature or function was added in the version stated",labelCategory:"version",displayText:"Introduced",altDisplayText:"Added"},changed:{description:"The feature or function was changed in the version stated",labelCategory:"version",displayText:"Changed"},default:{description:"The value shown is the default value",labelCategory:"function",displayText:"Default"},discontinued:{description:"The feature is no longer available",labelCategory:"version",displayText:"Discontinued"},dynamic:{labelCategory:"function",displayText:"Dynamic",joinText:"since"},alpha:{labelCategory:"version",displayText:"Alpha"},beta:{labelCategory:"version",displayText:"Beta"},"beta-until":{description:"The feature or function was in beta until the version specified",labelCategory:"version",displayText:"Beta",joinText:"until"},deprecated:{labelCategory:"version",displayText:"Deprecated"},removed:{labelCategory:"version",displayText:"Removed"},renamed:{labelCategory:"version",displayText:"Renamed"},updated:{description:"The feature or function was updated in the version stated",labelCategory:"version",displayText:"Updated"},fabric:{labelCategory:"function",function:"Fabric",displayText:"Fabric"},"apoc-core":{labelCategory:"function",displayText:"APOC Core"},"apoc-full":{labelCategory:"function",displayText:"APOC Full"},recommended:{labelCategory:"admonition",displayText:"Recommended"},danger:{labelCategory:"admonition",displayText:"Danger"},warning:{labelCategory:"admonition",displayText:"Warning"},information:{labelCategory:"admonition",displayText:"Information"},yes:{labelCategory:"admonition",displayText:"Yes"},no:{labelCategory:"admonition",displayText:"No"},"admin-only":{labelCategory:"function",displayText:"Admin Only"},function:{labelCategory:"function",displayText:"Function"},procedure:{labelCategory:"procedure",displayText:"Procedure"},syntax:{labelCategory:"function",displayText:"Syntax"},beginner:{labelCategory:"persona",displayText:"Beginner"},linux:{labelCategory:"environment",displayText:"Linux"},unix:{labelCategory:"environment",displayText:"Unix"},"mac-os":{labelCategory:"environment",displayText:"Mac OS"},windows:{labelCategory:"environment",displayText:"Windows"},cluster:{labelCategory:"function",displayText:"Cluster"},"cluster-member-core":{labelCategory:"function",displayText:"CORE"},"cluster-member-read-replica":{labelCategory:"function",displayText:"READ_REPLICA"},"cluster-member-single":{labelCategory:"function",displayText:"SINGLE"},na:{labelCategory:"admonition",displayText:"N/A"}};function so(){const e=document.querySelectorAll("body.docs .header-label-container");for(const r of e){var t=r.querySelector(".labels"),n=parseInt(window.getComputedStyle(r).lineHeight,10);t.offsetTop-r.offsetTop>=n?t.classList.add("wrapped"):t.classList.remove("wrapped")}}document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector("article.doc").dataset;const n=["H2","H3","H4","H5","H6","CAPTION"];document.querySelectorAll('body.docs *[class*="label--"]').forEach((function(r){var o=r.classList;if("SPAN"===r.nodeName||[...o].includes("discrete"))return;if(0===(o=[...o].sort().filter((function(e){return e.startsWith("label--")}))).length)return;const i=[];if(o.forEach((function(n){const o=function(e){var n=e.replace("label--","").split("-");let r,o,i;const a=[];for(;!r&&n.length>0;){const e=n.join("-");ao[e]?r=e:a.push(n.pop())}if(r){a.length>0&&(i=a.shift()),a.length>0&&(o=a.join(" ").split(/-|\./).map((e=>e.substr(0,1).toUpperCase()+e.substr(1))).join(""));var s={class:r,role:r,text:ao[r].displayText||"",joinText:i?ao[r].joinText||"in":"",data:{product:i&&(o||ao[r].product||t.product)||"",version:i||"",function:ao[r].function||"",event:"version"===ao[r].labelCategory?r:""}};return("version"===ao[r].labelCategory||ao[r].joinText&&i)&&(s.text=[s.text,s.joinText,s.data.product,s.data.version].join(" ")),s}}(n);if(r.classList.remove(n),void 0===o)return;const a=e("span",`label content-label label--${o.class}`);for(var s in o.data)""!==o.data[s]&&(a.dataset[s]=o.data[s]);a.appendChild(document.createTextNode(o.text)),i.push(a)})),0===i.length)return;let a=r.firstElementChild&&n.includes(r.firstElementChild.nodeName)?r.firstElementChild:r;const s=e("div","labels");for(const e of i)for(var c in("H1"===r.nodeName||n.includes(r.firstElementChild.nodeName))&&e.classList.add("header-label"),s.append(e),e.dataset)r.dataset[c]=e.dataset[c];console.log(r.classList),r.classList.contains("admonitionblock")&&(a=r.querySelector("td.content")),"H1"===r.nodeName||n.includes(r.firstElementChild.nodeName)?(a.append(s),a.classList.add("header-label-container")):(a.prepend(s),r.classList.add("has-label"))})),so()})),window.addEventListener("resize",(function(){so()})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".banner a").forEach((function(e){e.classList.add("banner-link")})),document.querySelectorAll(".cards:not(.bottom-cards) .link a").forEach((function(e){e.classList.add("card-link")}));document.querySelectorAll("body.docs-ndl h3 a").forEach((function(e){e.remove()})),document.querySelectorAll(".cards .selectable, .cards.selectable .sect2").forEach((function(t){t.querySelectorAll("div.link").forEach((function(t){var n=t.querySelector("a").getAttribute("href"),r=t.parentElement;r.classList.add("selectable");const o=e("a","link card-link");o.setAttribute("href",n),function(e,t){for(;e.childNodes.length>0;)t.appendChild(e.childNodes[0])}(r,o),r.appendChild(o),r.addEventListener("click",(function(e){e.preventDefault(),window.location.href=n}))}))})),document.querySelectorAll(".cards").forEach((function(e){e.querySelectorAll("div.sect2").forEach((function(e){var t=e.querySelector("div.labels");t&&e.querySelector("div.icon p").append(t)}))}))}))}();
